KOR_interservice_rivalry_towards_army = {
	
	if = {
		limit = {  has_idea = KOR_interservice_rivalry_army_strengthened }
		swap_ideas = {
			remove_idea = KOR_interservice_rivalry_army_strengthened
			add_idea = KOR_interservice_rivalry_army_dominant
		}
	}

	if = {
		limit = { has_idea = KOR_interservice_rivalry_balanced }
		swap_ideas = {
			remove_idea = KOR_interservice_rivalry_balanced
			add_idea = KOR_interservice_rivalry_army_strengthened
		}
	}

	if = {
		limit = { has_idea = KOR_interservice_rivalry_navy_strengthened }
		swap_ideas = {
			remove_idea = KOR_interservice_rivalry_navy_strengthened
			add_idea = KOR_interservice_rivalry_balanced
		}
	}

	if = {
		limit = { has_idea = KOR_interservice_rivalry_navy_dominant }
		swap_ideas = {
			remove_idea = KOR_interservice_rivalry_navy_dominant
			add_idea = KOR_interservice_rivalry_navy_strengthened
		}
	}

}
KOR_interservice_rivalry_towards_navy = {

	if = {
		limit = { has_idea = KOR_interservice_rivalry_navy_strengthened }
		swap_ideas = {
			remove_idea = KOR_interservice_rivalry_navy_strengthened
			add_idea = KOR_interservice_rivalry_navy_dominant
		}
	}	
	if = {
		limit = { has_idea = KOR_interservice_rivalry_balanced }
		swap_ideas = {
			remove_idea = KOR_interservice_rivalry_balanced
			add_idea = KOR_interservice_rivalry_navy_strengthened
		}
	}
	if = {
		limit = { has_idea = KOR_interservice_rivalry_army_strengthened }
		swap_ideas = {
			remove_idea = KOR_interservice_rivalry_army_strengthened
			add_idea = KOR_interservice_rivalry_balanced
		}
	}
	if = {
		limit = { has_idea = KOR_interservice_rivalry_army_dominant }
		swap_ideas = {
			remove_idea = KOR_interservice_rivalry_army_dominant
			add_idea = KOR_interservice_rivalry_army_strengthened
		}
	}
	
	
	
}
KOR_china_war_kill = {
	every_state = {
		limit = {
			OR = {
				has_state_flag = zhili_province_state
				has_state_flag = shandong_province_state
				has_state_flag = shanxi_province_state
				has_state_flag = shaanxi_province_state
				has_state_flag = henan_province_state
				has_state_flag = anhui_province_state
				has_state_flag = jiangsu_province_state
				has_state_flag = zhejiang_province_state
				has_state_flag = fujian_province_state
				has_state_flag = hubei_province_state
				has_state_flag = hunan_province_state
				has_state_flag = guangdong_province_state
				has_state_flag = guangxi_province_state
				has_state_flag = guizhou_province_state
				has_state_flag = sichuan_province_state
			}
			OR = {
				is_owned_by = ZLC
				is_owned_by = CHI
				is_owned_by = GXC
				is_owned_by = SHX
				is_owned_by = HNC
				is_owned_by = YUN
				is_owned_by = SZC
				is_owned_by = SND
				is_owned_by = XSM
				is_owned_by = WZC
				is_owned_by = SCC
				is_owned_by = SZC
			}
		}
		add_dynamic_modifier = { modifier = CHI_defence_the_korea }
	}
}
KOR_embargo_level_up = {
	if = {
		limit = {
			has_idea = KOR_embargo_us 
		}
		swap_ideas = {
			add_idea = KOR_embargo_us_a
			remove_idea = KOR_embargo_us
		}
	}
	if = {
		limit = {
			has_idea = KOR_embargo_us_a
		}
		swap_ideas = {
			add_idea = KOR_embargo_us_b
			remove_idea = KOR_embargo_us_a
		}
	}
	if = {
		limit = {
			has_idea = KOR_embargo_us_b
		}
		swap_ideas = {
			add_idea = KOR_embargo_us_c
			remove_idea = KOR_embargo_us_b
		}
	}
	if = {
		limit = {
			has_idea = KOR_embargo_us_c
		}
		swap_ideas = {
			add_idea = KOR_embargo_us_d
			remove_idea = KOR_embargo_us_c
		}
	}
	if = {
		limit = {
			has_idea = KOR_embargo_us_d
		}
		add_stability = -0.1
		add_war_support = -0.1
	}
}
KOR_embargo_level_down = {
	if = {
		limit = {
			has_idea = KOR_embargo_us 
		}
		add_stability = 0.05
		add_war_support = 0.05
	}
	if = {
		limit = {
			has_idea = KOR_embargo_us_a
		}
		swap_ideas = {
			add_idea = KOR_embargo_us
			remove_idea = KOR_embargo_us_a
		}
	}
	if = {
		limit = {
			has_idea = KOR_embargo_us_b
		}
		swap_ideas = {
			add_idea = KOR_embargo_us_a
			remove_idea = KOR_embargo_us_b
		}
	}
	if = {
		limit = {
			has_idea = KOR_embargo_us_c
		}
		swap_ideas = {
			add_idea = KOR_embargo_us_b
			remove_idea = KOR_embargo_us_c
		}
	}
	if = {
		limit = {
			has_idea = KOR_embargo_us_d
		}
		swap_ideas = {
			add_idea = KOR_embargo_us_c
			remove_idea = KOR_embargo_us_d
		}
	}
	
}

TLE_warlord_idea = {
	
	hidden_effect = {
		if = {
			limit = {
				OR = {
					original_tag = CHI
					original_tag = ZLC
					original_tag = WZC
					original_tag = SHX
					original_tag = PRC
					original_tag = SND
					original_tag = HNC
					original_tag = GXC
					original_tag = SZC
					original_tag = XSM
					original_tag = SIK
					original_tag = YUN
					original_tag = QIN
				}
			}
		}
		add_ideas = CHI_era_of_chinese_warlords_1
	}
}

USA_add_factories_TLE = {
	if = {
		limit = {
			original_tag = USA
		}
        random_owned_controlled_state = {
			limit = {
				free_building_slots = {
					building = industrial_complex
					size > 0
					include_locked = yes
				}
				OR = {
					is_in_home_area = yes
					NOT = {
						owner = {
							any_owned_state = {
								free_building_slots = {
								    building = industrial_complex
								    size > 0
							    	include_locked = yes
							    }
							    is_in_home_area = yes
							}
						}
				    }
			    }
			}
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
        random_owned_controlled_state = {
			limit = {
				free_building_slots = {
					building = industrial_complex
					size > 0
					include_locked = yes
				}
				OR = {
					is_in_home_area = yes
					NOT = {
						owner = {
							any_owned_state = {
								free_building_slots = {
								    building = industrial_complex
								    size > 0
							    	include_locked = yes
							    }
							    is_in_home_area = yes
							}
						}
				    }
			    }
			}
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
        random_owned_controlled_state = {
			limit = {
				free_building_slots = {
					building = industrial_complex
					size > 0
					include_locked = yes
				}
				OR = {
					is_in_home_area = yes
					NOT = {
						owner = {
							any_owned_state = {
								free_building_slots = {
								    building = industrial_complex
								    size > 0
							    	include_locked = yes
							    }
							    is_in_home_area = yes
							}
						}
				    }
			    }
			}
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
        random_owned_controlled_state = {
			limit = {
				free_building_slots = {
					building = industrial_complex
					size > 0
					include_locked = yes
				}
				OR = {
					is_in_home_area = yes
					NOT = {
						owner = {
							any_owned_state = {
								free_building_slots = {
								    building = industrial_complex
								    size > 0
							    	include_locked = yes
							    }
							    is_in_home_area = yes
							}
						}
				    }
			    }
			}
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
        random_owned_controlled_state = {
			limit = {
				free_building_slots = {
					building = industrial_complex
					size > 0
					include_locked = yes
				}
				OR = {
					is_in_home_area = yes
					NOT = {
						owner = {
							any_owned_state = {
								free_building_slots = {
								    building = industrial_complex
								    size > 0
							    	include_locked = yes
							    }
							    is_in_home_area = yes
							}
						}
				    }
			    }
			}
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
        random_owned_controlled_state = {
			limit = {
				free_building_slots = {
					building = industrial_complex
					size > 0
					include_locked = yes
				}
				OR = {
					is_in_home_area = yes
					NOT = {
						owner = {
							any_owned_state = {
								free_building_slots = {
								    building = industrial_complex
								    size > 0
							    	include_locked = yes
							    }
							    is_in_home_area = yes
							}
						}
				    }
			    }
			}
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
        random_owned_controlled_state = {
			limit = {
				free_building_slots = {
					building = industrial_complex
					size > 0
					include_locked = yes
				}
				OR = {
					is_in_home_area = yes
					NOT = {
						owner = {
							any_owned_state = {
								free_building_slots = {
								    building = industrial_complex
								    size > 0
							    	include_locked = yes
							    }
							    is_in_home_area = yes
							}
						}
				    }
			    }
			}
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
        random_owned_controlled_state = {
			limit = {
				free_building_slots = {
					building = industrial_complex
					size > 0
					include_locked = yes
				}
				OR = {
					is_in_home_area = yes
					NOT = {
						owner = {
							any_owned_state = {
								free_building_slots = {
								    building = industrial_complex
								    size > 0
							    	include_locked = yes
							    }
							    is_in_home_area = yes
							}
						}
				    }
			    }
			}
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
        random_owned_controlled_state = {
			limit = {
				free_building_slots = {
					building = industrial_complex
					size > 0
					include_locked = yes
				}
				OR = {
					is_in_home_area = yes
					NOT = {
						owner = {
							any_owned_state = {
								free_building_slots = {
								    building = industrial_complex
								    size > 0
							    	include_locked = yes
							    }
							    is_in_home_area = yes
							}
						}
				    }
			    }
			}
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
        random_owned_controlled_state = {
			limit = {
				free_building_slots = {
					building = industrial_complex
					size > 0
					include_locked = yes
				}
				OR = {
					is_in_home_area = yes
					NOT = {
						owner = {
							any_owned_state = {
								free_building_slots = {
								    building = industrial_complex
								    size > 0
							    	include_locked = yes
							    }
							    is_in_home_area = yes
							}
						}
				    }
			    }
			}
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
        random_owned_controlled_state = {
			limit = {
				free_building_slots = {
					building = industrial_complex
					size > 0
					include_locked = yes
				}
				OR = {
					is_in_home_area = yes
					NOT = {
						owner = {
							any_owned_state = {
								free_building_slots = {
								    building = industrial_complex
								    size > 0
							    	include_locked = yes
							    }
							    is_in_home_area = yes
							}
						}
				    }
			    }
			}
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
        random_owned_controlled_state = {
			limit = {
				free_building_slots = {
					building = industrial_complex
					size > 0
					include_locked = yes
				}
				OR = {
					is_in_home_area = yes
					NOT = {
						owner = {
							any_owned_state = {
								free_building_slots = {
								    building = industrial_complex
								    size > 0
							    	include_locked = yes
							    }
							    is_in_home_area = yes
							}
						}
				    }
			    }
			}
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
        random_owned_controlled_state = {
			limit = {
				free_building_slots = {
					building = industrial_complex
					size > 0
					include_locked = yes
				}
				OR = {
					is_in_home_area = yes
					NOT = {
						owner = {
							any_owned_state = {
								free_building_slots = {
								    building = industrial_complex
								    size > 0
							    	include_locked = yes
							    }
							    is_in_home_area = yes
							}
						}
				    }
			    }
			}
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
        random_owned_controlled_state = {
			limit = {
				free_building_slots = {
					building = industrial_complex
					size > 0
					include_locked = yes
				}
				OR = {
					is_in_home_area = yes
					NOT = {
						owner = {
							any_owned_state = {
								free_building_slots = {
								    building = industrial_complex
								    size > 0
							    	include_locked = yes
							    }
							    is_in_home_area = yes
							}
						}
				    }
			    }
			}
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
        random_owned_controlled_state = {
			limit = {
				free_building_slots = {
					building = industrial_complex
					size > 0
					include_locked = yes
				}
				OR = {
					is_in_home_area = yes
					NOT = {
						owner = {
							any_owned_state = {
								free_building_slots = {
								    building = industrial_complex
								    size > 0
							    	include_locked = yes
							    }
							    is_in_home_area = yes
							}
						}
				    }
			    }
			}
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
        random_owned_controlled_state = {
			limit = {
				free_building_slots = {
					building = industrial_complex
					size > 0
					include_locked = yes
				}
				OR = {
					is_in_home_area = yes
					NOT = {
						owner = {
							any_owned_state = {
								free_building_slots = {
								    building = industrial_complex
								    size > 0
							    	include_locked = yes
							    }
							    is_in_home_area = yes
							}
						}
				    }
			    }
			}
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
        random_owned_controlled_state = {
			limit = {
				free_building_slots = {
					building = industrial_complex
					size > 0
					include_locked = yes
				}
				OR = {
					is_in_home_area = yes
					NOT = {
						owner = {
							any_owned_state = {
								free_building_slots = {
								    building = industrial_complex
								    size > 0
							    	include_locked = yes
							    }
							    is_in_home_area = yes
							}
						}
				    }
			    }
			}
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
        random_owned_controlled_state = {
			limit = {
				free_building_slots = {
					building = industrial_complex
					size > 0
					include_locked = yes
				}
				OR = {
					is_in_home_area = yes
					NOT = {
						owner = {
							any_owned_state = {
								free_building_slots = {
								    building = industrial_complex
								    size > 0
							    	include_locked = yes
							    }
							    is_in_home_area = yes
							}
						}
				    }
			    }
			}
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
        random_owned_controlled_state = {
			limit = {
				free_building_slots = {
					building = industrial_complex
					size > 0
					include_locked = yes
				}
				OR = {
					is_in_home_area = yes
					NOT = {
						owner = {
							any_owned_state = {
								free_building_slots = {
								    building = industrial_complex
								    size > 0
							    	include_locked = yes
							    }
							    is_in_home_area = yes
							}
						}
				    }
			    }
			}
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
        random_owned_controlled_state = {
			limit = {
				free_building_slots = {
					building = industrial_complex
					size > 0
					include_locked = yes
				}
				OR = {
					is_in_home_area = yes
					NOT = {
						owner = {
							any_owned_state = {
								free_building_slots = {
								    building = industrial_complex
								    size > 0
							    	include_locked = yes
							    }
							    is_in_home_area = yes
							}
						}
				    }
			    }
			}
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
        random_owned_controlled_state = {
			limit = {
				free_building_slots = {
					building = industrial_complex
					size > 0
					include_locked = yes
				}
				OR = {
					is_in_home_area = yes
					NOT = {
						owner = {
							any_owned_state = {
								free_building_slots = {
								    building = industrial_complex
								    size > 0
							    	include_locked = yes
							    }
							    is_in_home_area = yes
							}
						}
				    }
			    }
			}
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
        random_owned_controlled_state = {
			limit = {
				free_building_slots = {
					building = industrial_complex
					size > 0
					include_locked = yes
				}
				OR = {
					is_in_home_area = yes
					NOT = {
						owner = {
							any_owned_state = {
								free_building_slots = {
								    building = industrial_complex
								    size > 0
							    	include_locked = yes
							    }
							    is_in_home_area = yes
							}
						}
				    }
			    }
			}
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
        random_owned_controlled_state = {
			limit = {
				free_building_slots = {
					building = industrial_complex
					size > 0
					include_locked = yes
				}
				OR = {
					is_in_home_area = yes
					NOT = {
						owner = {
							any_owned_state = {
								free_building_slots = {
								    building = industrial_complex
								    size > 0
							    	include_locked = yes
							    }
							    is_in_home_area = yes
							}
						}
				    }
			    }
			}
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
        random_owned_controlled_state = {
			limit = {
				free_building_slots = {
					building = industrial_complex
					size > 0
					include_locked = yes
				}
				OR = {
					is_in_home_area = yes
					NOT = {
						owner = {
							any_owned_state = {
								free_building_slots = {
								    building = industrial_complex
								    size > 0
							    	include_locked = yes
							    }
							    is_in_home_area = yes
							}
						}
				    }
			    }
			}
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
        random_owned_controlled_state = {
			limit = {
				free_building_slots = {
					building = industrial_complex
					size > 0
					include_locked = yes
				}
				OR = {
					is_in_home_area = yes
					NOT = {
						owner = {
							any_owned_state = {
								free_building_slots = {
								    building = industrial_complex
								    size > 0
							    	include_locked = yes
							    }
							    is_in_home_area = yes
							}
						}
				    }
			    }
			}
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
        random_owned_controlled_state = {
			limit = {
				free_building_slots = {
					building = industrial_complex
					size > 0
					include_locked = yes
				}
				OR = {
					is_in_home_area = yes
					NOT = {
						owner = {
							any_owned_state = {
								free_building_slots = {
								    building = industrial_complex
								    size > 0
							    	include_locked = yes
							    }
							    is_in_home_area = yes
							}
						}
				    }
			    }
			}
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
        random_owned_controlled_state = {
			limit = {
				free_building_slots = {
					building = industrial_complex
					size > 0
					include_locked = yes
				}
				OR = {
					is_in_home_area = yes
					NOT = {
						owner = {
							any_owned_state = {
								free_building_slots = {
								    building = industrial_complex
								    size > 0
							    	include_locked = yes
							    }
							    is_in_home_area = yes
							}
						}
				    }
			    }
			}
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
        random_owned_controlled_state = {
			limit = {
				free_building_slots = {
					building = industrial_complex
					size > 0
					include_locked = yes
				}
				OR = {
					is_in_home_area = yes
					NOT = {
						owner = {
							any_owned_state = {
								free_building_slots = {
								    building = industrial_complex
								    size > 0
							    	include_locked = yes
							    }
							    is_in_home_area = yes
							}
						}
				    }
			    }
			}
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
        random_owned_controlled_state = {
			limit = {
				free_building_slots = {
					building = industrial_complex
					size > 0
					include_locked = yes
				}
				OR = {
					is_in_home_area = yes
					NOT = {
						owner = {
							any_owned_state = {
								free_building_slots = {
								    building = industrial_complex
								    size > 0
							    	include_locked = yes
							    }
							    is_in_home_area = yes
							}
						}
				    }
			    }
			}
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
        random_owned_controlled_state = {
			limit = {
				free_building_slots = {
					building = industrial_complex
					size > 0
					include_locked = yes
				}
				OR = {
					is_in_home_area = yes
					NOT = {
						owner = {
							any_owned_state = {
								free_building_slots = {
								    building = industrial_complex
								    size > 0
							    	include_locked = yes
							    }
							    is_in_home_area = yes
							}
						}
				    }
			    }
			}
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
	}
}
KOR_hangbok_event = {
	add_named_threat = { threat = -50 name = KOR_hangbok_event_2 }
	set_global_flag = TLE_KOREA_IS_DEFEATED
	if = {
		limit = {
			GER = {
				has_war = yes
				has_government = fascism
			}
		}
		every_country = {
			limit = {
				is_chinese_clique = no
			}
			add_ideas = TLE_afterwar_idea
		}
	}
	every_country = {
		limit = {
			is_ai = no
		}
		set_temp_variable = { TNO_temp_super_event = token:SE_FALL_OF_KOREA }
		TNO_fire_super_event = yes
		country_event = {
			id = korea.782
		}
	}
	every_state = {
		limit = {
			is_core_of = JAP
		}
		remove_dynamic_modifier = { modifier = JAP_defence_the_korea }
	}
	every_state = {
		limit = {
			is_core_of = ZLC
		}
		remove_dynamic_modifier = { modifier = CHI_defence_the_korea }
		remove_dynamic_modifier = { modifier = CHI_defence_the_korea_2 }
		remove_dynamic_modifier = { modifier = CHI_defence_the_korea_3 }
	}
	CHI = {
		load_focus_tree = KMT_rework4
		if = {
			limit = {
				has_idea = CHI_kuomintang_rise
			}
			swap_ideas = {
				add_idea = CHI_kuomintang_victory
				remove_idea = CHI_kuomintang_rise
			}
		}
		if = {
			limit = {
				has_idea = CHI_kuomintang_resist
			}
			swap_ideas = {
				add_idea = CHI_kuomintang_victory
				remove_idea = CHI_kuomintang_resist
			}
		}
	}
	every_state = {
		limit = {
			is_claimed_by = KOR
			is_korean_peninsula = no
		}
		remove_claim_by = KOR
	}
	if = {
		limit = {
			INS = {
				exists = no
			}
		}
		every_state = {
			limit = {
				is_core_of = INS
			}
			set_state_owner_to = INS
			transfer_state_to = INS
		}	
		HOL = {
			puppet = INS
		}
	}
	USA = {
		remove_opinion_modifier = { target = KOR modifier = panay_inc2_opinion_modifier }
	}
	ENG = {
		remove_opinion_modifier = { target = KOR modifier = panay_inc2_opinion_modifier }
	}
	KOR = {
		country_lock_all_division_template = yes
		set_country_flag = TLE_THE_WAR_IS_ENDED
		set_party_name = {
			ideology = democratic
			long_name = "KOR_GHQ_party"
			name = "KOR_GHQ_party"
		}
		set_party_name = {
			ideology = fascism
			long_name = "KOR_GHQ_party"
			name = "KOR_GHQ_party"
		}
		set_party_name = {
			ideology = communism
			long_name = "KOR_GHQ_party"
			name = "KOR_GHQ_party"
		}
		set_party_name = {
			ideology = neutrality
			long_name = "KOR_GHQ_party"
			name = "KOR_GHQ_party"
		}
		add_country_leader_role = {
			Character = KOR_douglas_mcarthur
			country_leader = {
				expire = "1965.1.1"
				ideology = liberalism
				desc=""
				traits = {
				}
			}
			promote_leader = yes
		}	
		add_country_leader_role = {
			Character = KOR_douglas_mcarthur
			country_leader = {
				expire = "1965.1.1"
				ideology = fascism_ideology
				desc=""
				traits = {
				}
			}
			promote_leader = yes
		}	
		add_country_leader_role = {
			Character = KOR_douglas_mcarthur
			country_leader = {
				expire = "1965.1.1"
				ideology = despotism
				desc=""
				traits = {
				}
			}
			promote_leader = yes
		}	
		dismantle_faction = yes
		#set_country_flag = fall_of_korea
		set_country_flag = TLE_THE_WAR_IS_ENDED
		add_ideas = KOR_not_go_outside
		every_other_country = {
			limit = {
				has_war_with = KOR
			}	
			white_peace = KOR
		}
		remove_ideas = KOR_industry_reform
		remove_ideas = KOR_purged_government
		remove_ideas = KOR_the_chaebol
		remove_ideas = military_youth_focus
		remove_ideas = JAP_prioritize_naval_aircraft_construction
		remove_ideas = KOR_interservice_rivalry_army_dominant
		remove_ideas = KOR_interservice_rivalry_navy_dominant
		remove_ideas = KOR_interservice_rivalry_army_strengthened
		remove_ideas = KOR_interservice_rivalry_navy_strengthened
		remove_ideas = KOR_interservice_rivalry_balanced
		remove_ideas = KOR_military_organization_youth
		remove_ideas = KOR_fascist_propaganda
		remove_ideas = KOR_militarism
		remove_ideas = KOR_militarism_2
		remove_ideas = KOR_we_korean
		remove_ideas = JAP_prioritize_army_aircraft_construction
		remove_ideas = JAP_prioritize_naval_aircraft_construction
		remove_ideas = KOR_divided_politics
		remove_ideas = KOR_failed_civilian_control_of_the_military
		remove_ideas = KOR_the_first_army
		complete_national_focus = KOR_the_last_empire_ending
		retire_character = KOR_an_jung_geun 
		retire_character = KOR_yi_wu 
		retire_character = KOR_yi_geon 
		retire_character = KOR_kim_sung_ju 
		retire_character = KOR_yu_dong_yeol 
		retire_character = KOR_mae_ji_rang 
		retire_character = KOR_choe_yong_geon 
		retire_character = KOR_kim_du_han 
		retire_character = KOR_yi_won 
		retire_character = KOR_yi_kang 
		retire_character = KOR_kim_hui_sun 
		retire_character = KOR_lee_jaemyong 
		retire_character = KOR_lee_beom_seok 
		retire_character = KOR_kim_chwa_chin 
		retire_character = KOR_kim_gyu_sik 
		remove_ideas = KOR_militarism
		remove_ideas = KOR_Weakening_the_kingship
		remove_ideas = KOR_political_officer
		remove_ideas = KOR_not_go_outside
		remove_ideas = KOR_not_go_outside_2
		remove_ideas = KOR_embargo_us
		remove_ideas = KOR_embargo_us_a
		remove_ideas = KOR_embargo_us_b
		remove_ideas = KOR_embargo_us_c
		remove_ideas = KOR_embargo_us_d
		remove_ideas = KOR_embargo_us_2
		remove_ideas = KOR_striked_factories
		remove_ideas = KOR_war_japan_ai
		remove_ideas = spiritual_mobilization_idea
		remove_ideas = KOR_none_attack_soviert
		remove_ideas = mutiny_1
		remove_ideas = mutiny_2
		remove_ideas = mutiny_3
		add_ideas = disarmed_nation
		add_ideas = civilian_economy
		add_ideas = free_trade
		add_ideas = KOR_GHQ_government
		load_oob = "KOR_jingcha_2"
		delete_unit_template_and_units = {
			division_template = "보병사단"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "전차사단"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "후방사단"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "기병사단"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "해군육전대"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "시위사단"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "부산방위군"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "보병 편제 1"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "보병 편제 2"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "보병 편제 3"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "보병 편제 4"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "보병 편제 5"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "보병 편제 6"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "보병 편제 7"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "보병 편제 8"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "보병 편제 9"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "보병 편제 10"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "민병대"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "해병 편제 1"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "해병 편제 2"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "해병 편제 3"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "수도방위군"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "청도 공격군"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "상하이 진공군"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "중형전차 편제 1"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "중형전차 편제 2"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "중형전차 편제 3"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "중형전차 편제 4"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "중형전차 편제 5"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "중형전차 편제 6"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "중형전차 편제 7"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "중형전차 편제 8"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "중형전차 편제 9"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "경전차 편제 1"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "경전차 편제 2"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "경전차 편제 3"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "경전차 편제 4"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "경전차 편제 5"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units ={
			division_template = "구주-북해도 방위군"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units ={
			division_template = "부산방위군"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units ={
			division_template = "대한제국 보병사단"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units ={
			division_template = "대한제국 보병사단 2"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units ={
			division_template = "대한제국 보병사단 3"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units ={
			division_template = "대한제국 보병사단 4"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units ={
			division_template = "대한제국 보병사단 5"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units ={
			division_template = "대한제국 보병사단 6"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units ={
			division_template = "대한제국 보병사단 7"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units ={
			division_template = "대한제국 보병사단 8"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units ={
			division_template = "대한제국 보병사단 9"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units ={
			division_template = "대한제국 보병사단 10"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units ={
			division_template = "대한제국 보병사단 11"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units ={
			division_template = "대한제국 보병사단 12"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units ={
			division_template = "대한제국 보병사단 13"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "민병대 2"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "민병대 3"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "민병대 4"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "민병대 5"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "민병대 6"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "민병대 7"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "민병대 8"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "민병대 9"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "민병대 10"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "민병대 11"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "민병대 12"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "민병대 13"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "민병대 14"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "수도방위군 2"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "수도방위군 3"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "수도방위군 4"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "수도방위군 5"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "수도방위군 6"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "수도방위군 7"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "수도방위군 8"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "수도방위군 9"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "수도방위군 10"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "수도방위군 11"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "수도방위군 12"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "수도방위군 13"
			disband = yes #will refund equipment and manpower
		}
		set_cosmetic_tag = KOR_GHQ
	}
	JAP = {
		delete_unit_template_and_units = {
			division_template = "전일본구국의용군"
			disband = yes #will refund equipment and manpower
		}
		set_portraits = {
			character = JAP_emperor_hirohito
			civilian = { 
				large ="gfx/leaders/JAP/Portrait_JAP_showa_hirohito_3.png"
			}
			army = { 
				large ="gfx/leaders/JAP/Portrait_JAP_showa_hirohito_3.png"
			}
		}
	}
	if = {
		limit = {
			SZC = {
				exists = yes
				NOT = {
					owns_state = 605
				}
			}	
		}
		SZC = {
			transfer_state = 605
			transfer_state = 748
		}
		XKC = {
			transfer_state = 1047
			transfer_state = 753
			set_cosmetic_tag = SZC_clique
		}
		SCC = {
			transfer_state = 1007
		}
	}
    if = {
		limit = {
			KOR = {
				owns_state = 671
				owns_state = 286
				owns_state = 741
				owns_state = 670
			}
		}
		FRA = {
			transfer_state = 286
			transfer_state = 741
			transfer_state = 670
			transfer_state = 671
			transfer_state = 993
			transfer_state = 994
			transfer_state = 995
		}
	}
	if = {
		limit = {
			is_historical_focus_on = yes
		}
		
		every_country = {
			limit = {
				has_war_with = CHI
			}
			white_peace = CHI
		}
		every_country = {
			limit = {
				has_war_with = CHI
			}
			white_peace = ZLC
		}
	}
	every_country = {
		limit = {
			OR = {
				tag = ZLC 
				tag = CHI
			}
		}
		add_state_core = 716
		add_state_core = 745
		add_state_core = 328	
		add_state_core = 717	
		add_state_core = 1032	
		add_state_core = 1031	
		add_state_core = 1030	
	}
	every_state = {
		limit = {
			is_core_of = MON
			NOT = {
				is_core_of = ZLC
			}
		}
		add_claim_by = CHI
		add_claim_by = ZLC
	}	
	every_state = {
		limit = {
			is_core_of = CHI
			is_core_of = KYH
		}
		remove_core_of = CHI
	}	
	set_country_flag = TLE_THE_WAR_IS_ENDED
	if = { #영국이 서울 입성했을 때
		limit = { #평양에 소련군 없어야 함
			ENG = {
				has_country_flag = TLE_hansung_hamlak
			}
			SOV = {
				NOT = {
					has_country_flag = TLE_THE_RULING_PYONGYANG
				}	
			}
		}
		ENG = {
			country_event = {
				id = korea.44
			}
		}
	}
	if = { #미국이 서울 입성했을 때
		limit = { #평양에 소련군이 있을 시
			ENG = {
				has_country_flag = TLE_hansung_hamlak
			}
			SOV = {
				has_country_flag = TLE_THE_RULING_PYONGYANG
			}
		}
		ENG = {
			country_event = {
				id = korea.45
			}
		}
	}
	if = { #미국이 서울 입성했을 때
		limit = { #평양에 소련군 없어야 함
			USA = {
				has_country_flag = TLE_hansung_hamlak
			}
			SOV = {
				NOT = {
					has_country_flag = TLE_THE_RULING_PYONGYANG
				}	
			}
		}
		USA = {
			country_event = {
				id = korea.44
			}
		}
		KOR = {
			set_cosmetic_tag = KOR_GHQ
		}
	}
	if = { #미국이 서울 입성했을 때
		limit = { #평양에 소련군이 있을 시
			USA = {
				has_country_flag = TLE_hansung_hamlak
			}
			SOV = {
				has_country_flag = TLE_THE_RULING_PYONGYANG
			}
		}
		USA = {
			country_event = {
				id = korea.45
			}
		}
		KOR = {
			set_cosmetic_tag = KOR_GHQ
		}
	}
	if = {
		limit = {
			NOT = {
				tag = USA
				tag = ENG
				tag = JAP
				tag = CHI
				tag = ZLC
				tag = SIK
				tag = XSM
				tag = SHX
				tag = SZC
				tag = GXC
			}
		}
		USA = {
			country_event = {
				id = korea.44
			}
		}
		KOR = {
			set_cosmetic_tag = KOR_GHQ
		}
	}
	if = { #일본이 서울 점령
		limit = {
			JAP = {
				has_country_flag = TLE_hansung_hamlak
			}
		}
		JAP = {
			country_event = {
				id = korea.48
			}
		}
	}
	if = { #중국이 서울 점령
		limit = {
			OR = {
				CHI = {
					has_country_flag = TLE_hansung_hamlak
				}
				ZLC = {
					has_country_flag = TLE_hansung_hamlak
				}
				SHX = {
					has_country_flag = TLE_hansung_hamlak
				}
				SND = {
					has_country_flag = TLE_hansung_hamlak
				}
				GXC = {
					has_country_flag = TLE_hansung_hamlak
				}
				YUN = {
					has_country_flag = TLE_hansung_hamlak
				}
				XSM = {
					has_country_flag = TLE_hansung_hamlak
				}
				SZC = {
					has_country_flag = TLE_hansung_hamlak
				}
			}
		}
		if = {
			limit = {
				CHI = {
					has_country_flag = TLE_hansung_hamlak
				}	
			}	
			CHI = {
				country_event = {
					id = korea.56
				}
			}
		}
		if = {
			limit = {
				ZLC = {
					has_country_flag = TLE_hansung_hamlak
				}	
			}	
			ZLC = {
				country_event = {
					id = korea.56
				}
			}
		}
		if = {
			limit = {
				SHX = {
					has_country_flag = TLE_hansung_hamlak
				}	
			}	
			SHX = {
				country_event = {
					id = korea.56
				}
			}
		}
		if = {
			limit = {
				SND = {
					has_country_flag = TLE_hansung_hamlak
				}	
			}	
			SND = {
				country_event = {
					id = korea.56
				}
			}
		}
		if = {
			limit = {
				GXC = {
					has_country_flag = TLE_hansung_hamlak
				}	
			}	
			GXC = {
				country_event = {
					id = korea.56
				}
			}
		}
		if = {
			limit = {
				YUN = {
					has_country_flag = TLE_hansung_hamlak
				}	
			}	
			YUN = {
				country_event = {
					id = korea.56
				}
			}
		}
		if = {
			limit = {
				XSM = {
					has_country_flag = TLE_hansung_hamlak
				}	
			}	
			XSM = {
				country_event = {
					id = korea.56
				}
			}
		}
		if = {
			limit = {
				SZC = {
					has_country_flag = TLE_hansung_hamlak
				}	
			}	
			SZC = {
				country_event = {
					id = korea.56
				}
			}
		}
	}
	if = { #소련이 서울 점령
		limit = {
			SOV = {
				has_country_flag = TLE_hansung_hamlak
			}
			USA = {
				NOT = {
					has_country_flag = TLE_THE_RULING_KOREAN_STATE
				}
			}	
		}
		SOV = {
			country_event = {
				id = korea.46
			}
		}
	}
	if = { #소련이 서울 점령, 근데 미군을 곁들인
		limit = {
			SOV = {
				has_country_flag = TLE_hansung_hamlak
			}
			USA = {
				has_country_flag = TLE_THE_RULING_KOREAN_STATE
			}	
		}
		SOV = {
			country_event = {
				id = korea.47
			}
		}
	}
	if = { #소련이 극동공화국과 전쟁할 때
		limit = {
			SOV = {
				has_war_with = KOR
			}
		}
		SOV = {
			transfer_state = 637
			transfer_state = 644
			transfer_state = 562
			transfer_state = 574
			transfer_state = 565
			transfer_state = 564
			transfer_state = 563
			transfer_state = 561
			transfer_state = 657
			transfer_state = 560
			transfer_state = 555
			transfer_state = 537
			transfer_state = 655
			transfer_state = 1027
			transfer_state = 1028
			transfer_state = 409
			transfer_state = 408
			
			add_state_core = 637
			add_state_core = 644
			add_state_core = 562
			add_state_core = 574
			add_state_core = 565
			add_state_core = 564
			add_state_core = 563
			add_state_core = 561
			add_state_core = 657
			add_state_core = 560
			add_state_core = 555
			add_state_core = 537
			add_state_core = 655
			add_state_core = 1027
			add_state_core = 1028
			add_state_core = 409
			add_state_core = 408
		}
	}
	every_country = {
		limit = {
			owns_state = 608
		}
		transfer_state = 1034
		transfer_state = 743
		transfer_state = 611
		transfer_state = 621
	}
    every_country = {
    	limit = {
    		owns_state = 616
			is_chinese_clique = yes
    	}
		transfer_state = 746
    }
    every_country = {
    	limit = {
    		is_chinese_clique = yes
    	}
    	leave_faction = yes
    }
    every_other_country = {
    	limit = {
    		OR = {
    			TAG = CHI
    			TAG = WZC
    			TAG = ZLC
    			TAG = YUN
    			TAG = GXC
    			TAG = PRC
    			TAG = XSM
    			TAG = AHC
    			TAG = HNC
    			TAG = SND
    			TAG = SZC
    			TAG = SIK
    		}
    		owns_state = 613
    	}
    	transfer_state = 1036
    }
    SOV = {
    	puppet = MSR
    	add_state_core = 1028
    	add_state_core = 1027
    	add_state_core = 409
    	add_state_core = 408
    	transfer_state = 329
    	transfer_state = 655
    	transfer_state = 537
    	transfer_state = 555
    	transfer_state = 561
    	transfer_state = 560
    	transfer_state = 657
    	transfer_state = 409
    	transfer_state = 408
    	transfer_state = 1027
    	transfer_state = 1028
    }
    MSR = {
    	transfer_state = 330
    	transfer_state = 818
    	transfer_state = 817
    	transfer_state = 819
    	transfer_state = 820
		transfer_state = 612
		transfer_state = 1005
		transfer_state = 1006
    	set_cosmetic_tag = MSR
    }
    every_country = {
    	limit = {
    		is_japan_clique = yes
    		owns_state = 282
    	}
    	transfer_state = 1065
    	transfer_state = 1066
    	transfer_state = 1067
    	transfer_state = 528
    	transfer_state = 1029
    	transfer_state = 1064
    	transfer_state = 536
    	transfer_state = 645
    	transfer_state = 988
    	transfer_state = 989
    	add_state_core = 536
    	add_state_core = 1029
    	add_state_core = 645
    }
	every_country = {
		limit = {
    		owns_state = 608
		}
    	transfer_state = 524
	}
    every_country = {
    	limit = {
    		owns_state = 613
    	}
    	transfer_state = 1036
    }
    USA = {
    	transfer_state = 526
    	transfer_state = 648
    	transfer_state = 633
    	transfer_state = 684
    	transfer_state = 647
    	transfer_state = 646
    }
    KMN = {
    	set_cosmetic_tag = KMN_REP
		set_party_name = {
			ideology = democratic
			long_name = "KMN_REP_democratic_party_long"
			name = "KMN_REP_democratic_party"
		}
		set_party_name = {
			ideology = fascism
			long_name = "KMN_REP_fascism_party_long"
			name = "KMN_REP_fascism_party"
		}
		set_party_name = {
			ideology = communism
			long_name = "KMN_REP_communism_party_long"
			name = "KMN_REP_communism_party"
		}
		set_party_name = {
			ideology = neutrality
			long_name = "KMN_REP_neutrality_party_long"
			name = "KMN_REP_neutrality_party"
		}
		retire_character = KMN_yi_cheok
		add_country_leader_role = {
			Character = KMN_john_reed_hodge
			country_leader = {
				expire = "1965.1.1"
				ideology = despotism
				traits = { }
			}
			promote_leader = yes
		}
		add_country_leader_role = {
			Character = KMN_john_reed_hodge
			country_leader = {
				expire = "1965.1.1"
				ideology = liberalism
				traits = { }
			}
			promote_leader = yes
		}
    }
	CHI = {
		annex_country = {
			target = WZC
			transfer_troops = yes
		}
	}
	if = {
		limit = {
			has_global_flag = TLE_soviet_union_defeat
		}
		RUS = {
			set_cosmetic_tag = RUS
			transfer_state = 329
			transfer_state = 655
			transfer_state = 537
			transfer_state = 555
			transfer_state = 561
			transfer_state = 560
			transfer_state = 657
			transfer_state = 409
			transfer_state = 408
			transfer_state = 1027
			transfer_state = 1028
		}
	}
	408 = {
		set_state_name = "primoriye"
	}
	409 = {
		set_state_name = "yuzunohavarobsk"
	}
	561 = {
		set_state_name = "severnoamursk"
	}
	657 = {
		set_state_name = "yuzunoamursk"
	}
	560 = {
		set_state_name = "severnohavarobsk"
	}
	655 = {
		set_state_name = "severnosakalinsk"
	}
	537 = {
		set_state_name = "yuzunosakalinsk"
	}
	1028 = {
		set_state_name = "usurisk"
	}
	555 = {
		set_state_name = "kuril"
	}
	645 = {
		set_state_name = "yiojima"
	}
    set_province_name = {
        id = 13025
        name = "yiojima"
    }
    set_province_name = {
        id = 6961
        name = "nahotka"
    }
    set_province_name = {
        id = 9639
        name = "novopokrovka"
    }
    set_province_name = {
        id = 3977
        name = "usurisk"
    }
    set_province_name = {
        id = 12189
        name = "havarobsk"
    }
    set_province_name = {
        id = 12446
        name = "yuzunosakalinsk_city"
    }
	if = {
		limit = {
			KOR = {
				has_completed_focus = KOR_baekje_kisadan
			}
		}
		JAP = {
			annex_country = {
				target = DK1
				transfer_troops = no
			}
			annex_country = {
				target = DK2
				transfer_troops = no
			}
			annex_country = {
				target = DK3
				transfer_troops = no
			}
			annex_country = {
				target = DK4
				transfer_troops = no
			}
			annex_country = {
				target = DKG
				transfer_troops = no
			}
			annex_country = {
				target = FJP
				transfer_troops = no
			}
			annex_country = {
				target = EJP
				transfer_troops = no
			}
			annex_country = {
				target = TBJ
				transfer_troops = no
			}
			annex_country = {
				target = NBJ
				transfer_troops = no
			}
		}
	}
	if = {
		limit = {
			JAP = {
				exists = no
			}
		}
		JAP = {
			transfer_state = 282
			transfer_state = 526
			transfer_state = 528
			transfer_state = 529
			transfer_state = 530
			transfer_state = 531
			transfer_state = 532
			transfer_state = 533
			transfer_state = 534
			transfer_state = 535
			transfer_state = 1065
			transfer_state = 1066
			transfer_state = 1067
			transfer_state = 1068
			transfer_state = 1069
			transfer_state = 1070
			transfer_state = 1071
			transfer_state = 1072
			transfer_state = 1073
			
			transfer_state = 1065
			transfer_state = 1066
			transfer_state = 1067
			transfer_state = 528
			transfer_state = 1029
			transfer_state = 1064
			transfer_state = 536
			transfer_state = 645
			transfer_state = 988
			transfer_state = 989
			transfer_state = 990
			transfer_state = 991
			add_state_core = 536
			add_state_core = 1029
			add_state_core = 645
		}
	}
	every_country = {
		limit = {
			has_idea = JAP_showa_hirohito_4
		}
		remove_ideas = JAP_showa_hirohito_4
	}	
	524 = {
		set_state_name = "taiwan"
	}
	set_province_name = {
		id = 7186
		name = "taibei"
	}
	set_province_name = {
		id = 12068
		name = "gaoxiong"
	}
	if = {
		limit = {
			RUS = {
				exists = yes
			}
			has_global_flag = TLE_soviet_union_defeat
		}
		655 = {
			set_state_name = "north_garafuto"
		}
		537 = {
			set_state_name = "south_garafuto"
		}
		555 = {
			set_state_name = "qixima_ryoto"
		}
		set_province_name = {
			id = 12446
			name = "toyohara"
		}
		JAP = { #일본이 한국 괴뢰국 세우고, 제주와 여순을 먹는다
			transfer_state = 745
			transfer_state = 555
			transfer_state = 537
			transfer_state = 655
			transfer_state = 526
			add_state_core = 555
			add_state_core = 526
		}
	}
	NOR = {
		transfer_state = 110
		transfer_state = 142
		transfer_state = 143
		transfer_state = 144
		transfer_state = 920
		transfer_state = 921
		transfer_state = 922
		transfer_state = 923
		transfer_state = 924
		transfer_state = 925
	}
}
KOR_hangbok_event_2 = {
	add_named_threat = { threat = -50 name = KOR_hangbok_event_2 }
	set_global_flag = TLE_KOREA_IS_DEFEATED
	set_global_flag = show_peace_popup_alert
	USA = {
		save_global_event_target_as = winning_country
	}
	KOR = {
		save_global_event_target_as = losing_country
	}
	if = {
		limit = {
			event_target:losing_country = {
				any_allied_country = {
					has_war_together_with = event_target:losing_country
				}
			}
		}
		set_global_flag = losing_country_multiple
	}

	if = {
		limit = {
			event_target:winning_country = {
				any_allied_country = {
					has_war_together_with = event_target:winning_country
				}
			}
		}
		set_global_flag = winning_country_multiple
	}
	every_country = {
		limit = {
			is_ai = no
		}	
		add_to_variable = { global.peace_popup_dirty = 1 }
	}
	log = "war_won"
	set_global_flag = war_won
	if = {
		limit = {
			GER = {
				has_war = yes
				has_government = fascism
			}
		}
		every_country = {
			limit = {
				is_chinese_clique = no
			}
			add_ideas = TLE_afterwar_idea
		}
	}
	every_country = {
		limit = {
			is_ai = no
		}
		set_temp_variable = { TNO_temp_super_event = token:SE_FALL_OF_KOREA }
		TNO_fire_super_event = yes
		country_event = {
			id = korea.782
		}
	}
	every_state = {
		limit = {
			is_core_of = JAP
		}
		remove_dynamic_modifier = { modifier = JAP_defence_the_korea }
	}
	every_state = {
		limit = {
			is_core_of = ZLC
		}
		remove_dynamic_modifier = { modifier = CHI_defence_the_korea }
		remove_dynamic_modifier = { modifier = CHI_defence_the_korea_2 }
		remove_dynamic_modifier = { modifier = CHI_defence_the_korea_3 }
	}
	if = {
		limit = {
			CHI = {
				is_ai = no
			}
		}
		country_event = {
			id = KMT.120
		}
	}
	CHI = {	
		hidden_effect = {
			activate_advisor = cks_tok_1
			deactivate_advisor = wjw_tok_1
			set_politics = {
				ruling_party = communism
				last_election = "1936.1.1"
				election_frequency = 48
				elections_allowed = no
			}
			set_popularities = {
				neutrality = 40
				communism = 60
				democratic = 0
				fascism = 0
			}
		}
		if = {
			limit = {
				has_idea = CHI_kuomintang_rise
			}
			swap_ideas = {
				add_idea = CHI_kuomintang_victory
				remove_idea = CHI_kuomintang_rise
			}
		}
		if = {
			limit = {
				has_idea = CHI_kuomintang_resist
			}
			swap_ideas = {
				add_idea = CHI_kuomintang_victory
				remove_idea = CHI_kuomintang_resist
			}
		}
		load_focus_tree = KMT_rework4
	}
	if = {
		limit = {
			ZLC = {
				is_ai = no
			}
		}
		ZLC = {
			country_event = {
				id = KMT.121
			}
		}
	}
	every_state = {
		limit = {
			is_claimed_by = KOR
			is_korean_peninsula = no
		}
		remove_claim_by = KOR
	}
	if = {
		limit = {
			INS = {
				exists = no
			}
		}
		every_state = {
			limit = {
				is_core_of = INS
			}
			set_state_owner_to = INS
			transfer_state_to = INS
		}	
		HOL = {
			puppet = INS
		}
	}
	USA = {
		remove_opinion_modifier = { target = KOR modifier = panay_inc2_opinion_modifier }
	}
	ENG = {
		remove_opinion_modifier = { target = KOR modifier = panay_inc2_opinion_modifier }
	}
	KOR = {
		country_lock_all_division_template = yes
		set_country_flag = TLE_THE_WAR_IS_ENDED
		set_party_name = {
			ideology = democratic
			long_name = "KOR_GHQ_party"
			name = "KOR_GHQ_party"
		}
		set_party_name = {
			ideology = fascism
			long_name = "KOR_GHQ_party"
			name = "KOR_GHQ_party"
		}
		set_party_name = {
			ideology = communism
			long_name = "KOR_GHQ_party"
			name = "KOR_GHQ_party"
		}
		set_party_name = {
			ideology = neutrality
			long_name = "KOR_GHQ_party"
			name = "KOR_GHQ_party"
		}
		add_country_leader_role = {
			Character = KOR_douglas_mcarthur
			country_leader = {
				expire = "1965.1.1"
				ideology = liberalism
				desc=""
				traits = {
				}
			}
			promote_leader = yes
		}	
		add_country_leader_role = {
			Character = KOR_douglas_mcarthur
			country_leader = {
				expire = "1965.1.1"
				ideology = fascism_ideology
				desc=""
				traits = {
				}
			}
			promote_leader = yes
		}	
		add_country_leader_role = {
			Character = KOR_douglas_mcarthur
			country_leader = {
				expire = "1965.1.1"
				ideology = despotism
				desc=""
				traits = {
				}
			}
			promote_leader = yes
		}	
		dismantle_faction = yes
		#set_country_flag = fall_of_korea
		set_country_flag = TLE_THE_WAR_IS_ENDED
		add_ideas = KOR_not_go_outside
		remove_ideas = KOR_industry_reform
		remove_ideas = KOR_purged_government
		remove_ideas = KOR_the_chaebol
		remove_ideas = military_youth_focus
		remove_ideas = JAP_prioritize_naval_aircraft_construction
		remove_ideas = KOR_interservice_rivalry_army_dominant
		remove_ideas = KOR_interservice_rivalry_navy_dominant
		remove_ideas = KOR_interservice_rivalry_army_strengthened
		remove_ideas = KOR_interservice_rivalry_navy_strengthened
		remove_ideas = KOR_interservice_rivalry_balanced
		remove_ideas = KOR_military_organization_youth
		remove_ideas = KOR_fascist_propaganda
		remove_ideas = KOR_militarism
		remove_ideas = KOR_militarism_2
		remove_ideas = KOR_the_first_army
		remove_ideas = KOR_we_korean
		every_other_country = {
			limit = {
				has_war_with = KOR
			}	
			white_peace = KOR
		}
		complete_national_focus = KOR_the_last_empire_ending
		retire_character = KOR_an_jung_geun 
		retire_character = KOR_yi_wu 
		retire_character = KOR_yi_geon 
		retire_character = KOR_kim_sung_ju 
		retire_character = KOR_yu_dong_yeol 
		retire_character = KOR_mae_ji_rang 
		retire_character = KOR_choe_yong_geon 
		retire_character = KOR_kim_du_han 
		retire_character = KOR_yi_won 
		retire_character = KOR_yi_kang 
		retire_character = KOR_kim_hui_sun 
		retire_character = KOR_lee_jaemyong 
		retire_character = KOR_lee_beom_seok 
		retire_character = KOR_kim_chwa_chin 
		retire_character = KOR_kim_gyu_sik 
		remove_ideas = KOR_militarism
		remove_ideas = KOR_Weakening_the_kingship
		remove_ideas = KOR_political_officer
		remove_ideas = KOR_not_go_outside
		remove_ideas = KOR_not_go_outside_2
		remove_ideas = KOR_embargo_us
		remove_ideas = KOR_embargo_us_a
		remove_ideas = KOR_embargo_us_b
		remove_ideas = KOR_embargo_us_c
		remove_ideas = KOR_embargo_us_d
		remove_ideas = KOR_embargo_us_2
		remove_ideas = KOR_striked_factories
		remove_ideas = KOR_war_japan_ai
		remove_ideas = spiritual_mobilization_idea
		remove_ideas = JAP_prioritize_army_aircraft_construction
		remove_ideas = JAP_prioritize_naval_aircraft_construction
		remove_ideas = KOR_none_attack_soviert
		remove_ideas = KOR_divided_politics
		remove_ideas = KOR_failed_civilian_control_of_the_military
		remove_ideas = mutiny_1
		remove_ideas = mutiny_2
		remove_ideas = mutiny_3
		add_ideas = disarmed_nation
		add_ideas = civilian_economy
		add_ideas = free_trade
		add_ideas = KOR_GHQ_government
		load_oob = "KOR_jingcha_2"
		delete_unit_template_and_units = {
			division_template = "보병사단"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "전차사단"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "후방사단"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "기병사단"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "해군육전대"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "시위사단"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "부산방위군"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "보병 편제 1"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "보병 편제 2"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "보병 편제 3"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "보병 편제 4"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "보병 편제 5"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "보병 편제 6"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "보병 편제 7"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "보병 편제 8"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "보병 편제 9"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "보병 편제 10"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "민병대"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "해병 편제 1"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "해병 편제 2"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "해병 편제 3"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "수도방위군"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "청도 공격군"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "상하이 진공군"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "중형전차 편제 1"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "중형전차 편제 2"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "중형전차 편제 3"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "중형전차 편제 4"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "중형전차 편제 5"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "중형전차 편제 6"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "중형전차 편제 7"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "중형전차 편제 8"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "중형전차 편제 9"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "경전차 편제 1"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "경전차 편제 2"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "경전차 편제 3"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "경전차 편제 4"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "경전차 편제 5"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units ={
			division_template = "구주-북해도 방위군"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units ={
			division_template = "부산방위군"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units ={
			division_template = "대한제국 보병사단"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units ={
			division_template = "대한제국 보병사단 2"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units ={
			division_template = "대한제국 보병사단 3"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units ={
			division_template = "대한제국 보병사단 4"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units ={
			division_template = "대한제국 보병사단 5"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units ={
			division_template = "대한제국 보병사단 6"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units ={
			division_template = "대한제국 보병사단 7"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units ={
			division_template = "대한제국 보병사단 8"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units ={
			division_template = "대한제국 보병사단 9"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units ={
			division_template = "대한제국 보병사단 10"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units ={
			division_template = "대한제국 보병사단 11"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units ={
			division_template = "대한제국 보병사단 12"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units ={
			division_template = "대한제국 보병사단 13"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "민병대 2"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "민병대 3"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "민병대 4"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "민병대 5"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "민병대 6"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "민병대 7"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "민병대 8"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "민병대 9"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "민병대 10"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "민병대 11"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "민병대 12"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "민병대 13"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "민병대 14"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "수도방위군 2"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "수도방위군 3"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "수도방위군 4"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "수도방위군 5"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "수도방위군 6"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "수도방위군 7"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "수도방위군 8"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "수도방위군 9"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "수도방위군 10"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "수도방위군 11"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "수도방위군 12"
			disband = yes #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "수도방위군 13"
			disband = yes #will refund equipment and manpower
		}
		set_cosmetic_tag = KOR_GHQ
		news_event = {
			id = eok_news.43
			days = 3
		}
	}
	JAP = {
		delete_unit_template_and_units = {
			division_template = "전일본구국의용군"
			disband = yes #will refund equipment and manpower
		}
		set_portraits = {
			character = JAP_emperor_hirohito
			civilian = { 
				large ="gfx/leaders/JAP/Portrait_JAP_showa_hirohito_3.png"
			}
			army = { 
				large ="gfx/leaders/JAP/Portrait_JAP_showa_hirohito_3.png"
			}
		}
	}
	if = {
		limit = {
			SZC = {
				exists = yes
				NOT = {
					owns_state = 605
				}
			}	
		}
		SZC = {
			transfer_state = 605
			transfer_state = 748
			transfer_state = 1047
		}
	}
	if = {
		limit = {
			is_historical_focus_on = yes
		}
		
		every_country = {
			limit = {
				has_war_with = CHI
			}
			white_peace = CHI
		}
		every_country = {
			limit = {
				has_war_with = CHI
			}
			white_peace = ZLC
		}
	}
    if = {
		limit = {
			KOR = {
				owns_state = 671
				owns_state = 286
				owns_state = 741
				owns_state = 670
				owns_state = 993
				owns_state = 994
				owns_state = 995
			}
		}
		FRA = {
			transfer_state = 286
			transfer_state = 741
			transfer_state = 670
			transfer_state = 671
			transfer_state = 993
			transfer_state = 994
			transfer_state = 995
		}
	}
	every_country = {
		limit = {
			OR = {
				tag = ZLC 
				tag = CHI
			}
		}
		add_state_core = 716
		add_state_core = 745
		add_state_core = 328	
		add_state_core = 717	
		add_state_core = 1032	
		add_state_core = 1031	
		add_state_core = 1030	
	}
	every_state = {
		limit = {
			is_core_of = MON
			NOT = {
				is_core_of = ZLC
			}
		}
		add_claim_by = CHI
		add_claim_by = ZLC
	}	
	every_state = {
		limit = {
			is_core_of = CHI
			is_core_of = KYH
		}
		remove_core_of = CHI
	}	
	set_country_flag = TLE_THE_WAR_IS_ENDED
	USA = {
		country_event = {
			id = korea.44
		}
	}
	if = { #소련이 극동공화국과 전쟁할 때
		limit = {
			SOV = {
				has_war_with = KOR
			}
		}
		SOV = {
			transfer_state = 637
			transfer_state = 644
			transfer_state = 562
			transfer_state = 574
			transfer_state = 565
			transfer_state = 564
			transfer_state = 563
			transfer_state = 561
			transfer_state = 657
			transfer_state = 560
			transfer_state = 555
			transfer_state = 537
			transfer_state = 655
			transfer_state = 1027
			transfer_state = 1028
			transfer_state = 409
			transfer_state = 408
			
			add_state_core = 637
			add_state_core = 644
			add_state_core = 562
			add_state_core = 574
			add_state_core = 565
			add_state_core = 564
			add_state_core = 563
			add_state_core = 561
			add_state_core = 657
			add_state_core = 560
			add_state_core = 555
			add_state_core = 537
			add_state_core = 655
			add_state_core = 1027
			add_state_core = 1028
			add_state_core = 409
			add_state_core = 408
		}
	}
	every_country = {
		limit = {
			owns_state = 608
		}
		transfer_state = 1034
		transfer_state = 743
		transfer_state = 611
		transfer_state = 621
	}
    every_country = {
    	limit = {
    		owns_state = 616
			is_chinese_clique = yes
    	}
		transfer_state = 746
    }
    every_country = {
    	limit = {
    		is_chinese_clique = yes
    	}
    	leave_faction = yes
    }
    every_other_country = {
    	limit = {
    		OR = {
    			TAG = CHI
    			TAG = WZC
    			TAG = ZLC
    			TAG = YUN
    			TAG = GXC
    			TAG = PRC
    			TAG = XSM
    			TAG = AHC
    			TAG = HNC
    			TAG = SND
    			TAG = SZC
    			TAG = SIK
    		}
    		owns_state = 613
    	}
    	transfer_state = 1036
    }
	if = {
		limit = {
			NOT = {
				has_global_flag = TLE_soviet_union_defeat
			}
		}
		SOV = {
			puppet = MSR
			add_state_core = 1028
			add_state_core = 1027
			add_state_core = 409
			add_state_core = 408
			transfer_state = 329
			transfer_state = 655
			transfer_state = 537
			transfer_state = 555
			transfer_state = 561
			transfer_state = 560
			transfer_state = 657
			transfer_state = 409
			transfer_state = 408
			transfer_state = 1027
			transfer_state = 1028
		}
	}	
    MSR = {
    	transfer_state = 330
    	transfer_state = 818
    	transfer_state = 817
    	transfer_state = 819
    	transfer_state = 820
		transfer_state = 612
		transfer_state = 1005
		transfer_state = 1006
    	set_cosmetic_tag = MSR
    }
	if = {
		limit = {
			has_global_flag = TLE_soviet_union_defeat
		}
		RUS = {
			set_cosmetic_tag = RUS
			transfer_state = 655
			transfer_state = 537
			transfer_state = 555
			transfer_state = 561
			transfer_state = 560
			transfer_state = 657
			transfer_state = 409
			transfer_state = 408
			transfer_state = 1027
			transfer_state = 1028
		}
		MSR = {
			transfer_state = 329
		}
	}
    every_country = {
    	limit = {
    		is_japan_clique = yes
    		owns_state = 282
    	}
    	transfer_state = 1065
    	transfer_state = 1066
    	transfer_state = 1067
    	transfer_state = 528
    	transfer_state = 1029
    	transfer_state = 1064
    	transfer_state = 536
    	transfer_state = 645
    	transfer_state = 988
    	transfer_state = 989
    	add_state_core = 536
    	add_state_core = 1029
    	add_state_core = 645
    }
	every_country = {
		limit = {
    		owns_state = 608
		}
    	transfer_state = 524
	}
    every_country = {
    	limit = {
    		owns_state = 613
    	}
    	transfer_state = 1036
    }
    USA = {
    	transfer_state = 526
    	transfer_state = 648
    	transfer_state = 633
    	transfer_state = 684
    	transfer_state = 647
    	transfer_state = 646
    }
    KMN = {
    	set_cosmetic_tag = KMN_REP
		set_party_name = {
			ideology = democratic
			long_name = "KMN_REP_democratic_party_long"
			name = "KMN_REP_democratic_party"
		}
		set_party_name = {
			ideology = fascism
			long_name = "KMN_REP_fascism_party_long"
			name = "KMN_REP_fascism_party"
		}
		set_party_name = {
			ideology = communism
			long_name = "KMN_REP_communism_party_long"
			name = "KMN_REP_communism_party"
		}
		set_party_name = {
			ideology = neutrality
			long_name = "KMN_REP_neutrality_party_long"
			name = "KMN_REP_neutrality_party"
		}
		retire_character = KMN_yi_cheok
		add_country_leader_role = {
			Character = KMN_john_reed_hodge
			country_leader = {
				expire = "1965.1.1"
				ideology = despotism
				traits = { }
			}
			country_leader = {
				expire = "1965.1.1"
				ideology = liberalism
				traits = { }
			}
			promote_leader = yes
		}
    }	
	CHI = {
		annex_country = {
			target = WZC
			transfer_troops = yes
		}
	}
	408 = {
		set_state_name = "primoriye"
	}
	409 = {
		set_state_name = "yuzunohavarobsk"
	}
	561 = {
		set_state_name = "severnoamursk"
	}
	657 = {
		set_state_name = "yuzunoamursk"
	}
	560 = {
		set_state_name = "severnohavarobsk"
	}
	655 = {
		set_state_name = "severnosakalinsk"
	}
	537 = {
		set_state_name = "yuzunosakalinsk"
	}
	1028 = {
		set_state_name = "usurisk"
	}
	555 = {
		set_state_name = "kuril"
	}
	645 = {
		set_state_name = "yiojima"
	}
    set_province_name = {
        id = 13025
        name = "yiojima"
    }
    set_province_name = {
        id = 6961
        name = "nahotka"
    }
    set_province_name = {
        id = 3977
        name = "usurisk"
    }
    set_province_name = {
        id = 12189
        name = "havarobsk"
    }
    set_province_name = {
        id = 9639
        name = "novopokrovka"
    }
    set_province_name = {
        id = 12446
        name = "yuzunosakalinsk_city"
    }
	if = {
		limit = {
			KOR = {
				has_completed_focus = KOR_baekje_kisadan
			}
		}
		JAP = {
			annex_country = {
				target = DK1
				transfer_troops = no
			}
			annex_country = {
				target = DK2
				transfer_troops = no
			}
			annex_country = {
				target = DK3
				transfer_troops = no
			}
			annex_country = {
				target = DK4
				transfer_troops = no
			}
			annex_country = {
				target = DKG
				transfer_troops = no
			}
			annex_country = {
				target = FJP
				transfer_troops = no
			}
			annex_country = {
				target = EJP
				transfer_troops = no
			}
			annex_country = {
				target = TBJ
				transfer_troops = no
			}
			annex_country = {
				target = NBJ
				transfer_troops = no
			}
		}
	}
	if = {
		limit = {
			JAP = {
				exists = no
			}
		}
		JAP = {
			transfer_state = 282
			transfer_state = 526
			transfer_state = 528
			transfer_state = 529
			transfer_state = 530
			transfer_state = 531
			transfer_state = 532
			transfer_state = 533
			transfer_state = 534
			transfer_state = 535
			transfer_state = 1065
			transfer_state = 1066
			transfer_state = 1067
			transfer_state = 1068
			transfer_state = 1069
			transfer_state = 1070
			transfer_state = 1071
			transfer_state = 1072
			transfer_state = 1073
			
			transfer_state = 1065
			transfer_state = 1066
			transfer_state = 1067
			transfer_state = 528
			transfer_state = 1029
			transfer_state = 1064
			transfer_state = 536
			transfer_state = 645
			transfer_state = 645
			transfer_state = 988
			transfer_state = 989
			transfer_state = 990
			transfer_state = 991
			add_state_core = 536
			add_state_core = 1029
			add_state_core = 645
		}
	}
	every_country = {
		limit = {
			has_idea = JAP_showa_hirohito_4
		}
		remove_ideas = JAP_showa_hirohito_4
	}	
	524 = {
		set_state_name = "taiwan"
	}
	set_province_name = {
		id = 7186
		name = "taibei"
	}
	set_province_name = {
		id = 12068
		name = "gaoxiong"
	}
	if = {
		limit = {
			RUS = {
				exists = yes
			}
			has_global_flag = TLE_soviet_union_defeat
		}
		655 = {
			set_state_name = "north_garafuto"
		}
		537 = {
			set_state_name = "south_garafuto"
		}
		555 = {
			set_state_name = "qixima_ryoto"
		}
		set_province_name = {
			id = 12446
			name = "toyohara"
		}
		JAP = { #일본이 한국 괴뢰국 세우고, 제주와 여순을 먹는다
			transfer_state = 745
			transfer_state = 555
			transfer_state = 537
			transfer_state = 655
			transfer_state = 526
			add_state_core = 555
			add_state_core = 526
		}
	}
	NOR = {
		transfer_state = 110
		transfer_state = 142
		transfer_state = 143
		transfer_state = 144
		transfer_state = 920
		transfer_state = 921
		transfer_state = 922
		transfer_state = 923
		transfer_state = 924
		transfer_state = 925
	}
}
TLE_german_defeat_effect = {
	set_global_flag = TLE_germany_union_defeat
	add_named_threat = { threat = -10000 name = TLE_germany_union_defeat }
	clr_global_flag = italian_east_africa_flag
	set_global_flag = show_peace_popup_alert
	SOV = {
		save_global_event_target_as = winning_country
	}
	GER = {
		save_global_event_target_as = losing_country
	}
	if = {
		limit = {
			event_target:losing_country = {
				any_allied_country = {
					has_war_together_with = event_target:losing_country
				}
			}
		}
		set_global_flag = losing_country_multiple
	}

	if = {
		limit = {
			event_target:winning_country = {
				any_allied_country = {
					has_war_together_with = event_target:winning_country
				}
			}
		}
		set_global_flag = winning_country_multiple
	}
	every_country = {
		limit = {
			is_ai = no
		}	
		add_to_variable = { global.peace_popup_dirty = 1 }
	}
	log = "war_won"
	set_global_flag = war_won
	SOV = {
		set_faction_name = "warsaw_pact"
	}
	USA = {
		#activate_decision = NATO_brussels_treaty
	}
	every_country = {
		add_ideas = TLE_afterwar_idea
	}
	every_country = {
		limit = {
			NOT = {
				original_tag = KOR
			}
			is_japan_clique = no
			is_chinese_clique = no
			is_ai = yes
		}
		add_ideas = TLE_army_nuffer
	}
	BUL = {
		set_politics = {
			ruling_party = communism
			last_election = "1932.3.8"
			election_frequency = 60
			elections_allowed = yes
		}
		set_popularities = {
			democratic = 8 #liberalism
			fascism = 1 #nazism
			communism = 81 #marxism
			neutrality = 10 #despotism
		}
		transfer_state = 48
		transfer_state = 212
		transfer_state = 801
		transfer_state = 211
		transfer_state = 77
	}
    POL = {
    	transfer_state = 97
    	transfer_state = 5
    	transfer_state = 762
    	transfer_state = 67
    	transfer_state = 66
    	transfer_state = 68
    	transfer_state = 63
    	transfer_state = 98
    	transfer_state = 10
    	transfer_state = 92
    	transfer_state = 90
    	transfer_state = 87
    	transfer_state = 86
    	transfer_state = 807
    	transfer_state = 85
		set_cosmetic_tag = POL_WW2
		annex_country = {
			target = POL
			transfer_troops = yes
		}
		if = {
			limit = {
				HUN = {
					OR = { NOT = { has_cosmetic_tag = HUN_EMPIRE } is_in_faction_with = GER }
				}
			}
			transfer_state = 88
		}
		if = {
			limit = {
				HUN = {
					OR = { NOT = { has_cosmetic_tag = HUN_EMPIRE } is_in_faction_with = GER }
				}
			}
			transfer_state = 978
		}
	}	
	ROM = {
		set_cosmetic_tag = ROM_WW2
		transfer_state = 987
	}
	if = {
		limit = {
			HUN = {
				NOT = {
					is_in_faction_with = GER
				}
				has_cosmetic_tag = HUN_EMPIRE
			}
		}
		HUN = {
			transfer_state = 39
			transfer_state = 850
			transfer_state = 74
			transfer_state = 69
			transfer_state = 72
			annex_country = {
				target = CZE 
				transfer_troops = yes
			}
		}
	}
	if = {
		limit = {
			HUN = {
				OR = { NOT = { has_cosmetic_tag = HUN_EMPIRE } is_in_faction_with = GER }
			}
		}
		HUN = {
			set_cosmetic_tag = HUN_WW2
			remove_ideas = AUH_otto_von_habsburg
		}
	}
	ALB = {
		set_cosmetic_tag = ALB_WW2
	}
	CZE = {
		set_cosmetic_tag = CZE_WW2
	}
	every_country = {
		limit = {
			original_tag = BUL
			has_government = communism
		}
		set_cosmetic_tag = BUL_WW2
	}
    USA = {
    	transfer_state = 54
    	transfer_state = 53
    	transfer_state = 52
    	transfer_state = 55
		transfer_state = 997
    }
    ENG = {
    	transfer_state = 51
    	transfer_state = 982
    	transfer_state = 57
    	transfer_state = 56
    	transfer_state = 59
    	transfer_state = 58
    	transfer_state = 909
		
		transfer_state = 448
		transfer_state = 661
		transfer_state = 662
		transfer_state = 449
		transfer_state = 450
		transfer_state = 663
		transfer_state = 451
		transfer_state = 273
		
		transfer_state = 453
		transfer_state = 455
		transfer_state = 454
		transfer_state = 901
		add_to_faction = CZE
    }
    FRA = {
		
		transfer_state = 33
		transfer_state = 26
		transfer_state = 25
		transfer_state = 31
		transfer_state = 22
		transfer_state = 20
		transfer_state = 32
		transfer_state = 21
		transfer_state = 28
		transfer_state = 735
		transfer_state = 851
		transfer_state = 1
	
    	transfer_state = 42
    	transfer_state = 50
		
		transfer_state = 458
		transfer_state = 665
		transfer_state = 460
		transfer_state = 513
		transfer_state = 459
		transfer_state = 461
		transfer_state = 462
		transfer_state = 514
		transfer_state = 775
		
		transfer_state = 706
		transfer_state = 543
		transfer_state = 708
		transfer_state = 713
		transfer_state = 713
		
		transfer_state = 550
		
		transfer_state = 786
		transfer_state = 782
		transfer_state = 515
		transfer_state = 898
		transfer_state = 774
		transfer_state = 660
		transfer_state = 773
		transfer_state = 539
		transfer_state = 776
		transfer_state = 781
		transfer_state = 778
		transfer_state = 779
		transfer_state = 556
		transfer_state = 780
		transfer_state = 272
		transfer_state = 899
		transfer_state = 557	
		transfer_state = 777		
		transfer_state = 772
		transfer_state = 998
		transfer_state = 985
    }
	ALB = {
		transfer_state = 44
		transfer_state = 805
		transfer_state = 934
	}
	ETH = {
		transfer_state = 908
		transfer_state = 842
		transfer_state = 841
		transfer_state = 843
		transfer_state = 840
		transfer_state = 271
		transfer_state = 839
		transfer_state = 838
		transfer_state = 837
		transfer_state = 836
		transfer_state = 835
	}
	every_country = {
		limit = {
			has_war_with = SOV
			OR = {
				NOT = {
					original_tag = KOR
				}
				is_puppet_of = KOR
			}
		}
		white_peace = SOV
	}
	every_country = {
		limit = {
			has_war_with = FIN
		}
		white_peace = FIN
	}
	if = {
		limit = {
			HUN = {
				OR = { NOT = { has_cosmetic_tag = HUN_EMPIRE } is_in_faction_with = GER }
			}
		}
		CZE = {
			transfer_state = 9
			transfer_state = 69
			transfer_state = 75
			transfer_state = 74
			transfer_state = 72
			transfer_state = 70
			transfer_state = 71
			transfer_state = 664
			add_ideas = TLE_afterwar_idea
		}
	}
	GRE = {
		transfer_state = 731
		transfer_state = 184
	}
    every_state = {
    	limit = {
    		is_core_of = GER
    	}
    	remove_core_of = GER
    }
    every_state = {
    	limit = {
    		is_claimed_by = GER
    	}
    	remove_claim_by = GER
    }
	every_state = {
		limit = {
			is_claimed_by = SOV
			NOT = {
				is_core_of = SOV
			}
			is_owned_by = SOV
		}
		add_core_of = SOV
	}
	YUG = {
		if = {
			limit = {
				HUN = {
					OR = { NOT = { has_cosmetic_tag = HUN_EMPIRE } is_in_faction_with = GER }
					NOT = {
						owns_state = 102
					}
				}
			}
			transfer_state = 852
			transfer_state = 163
			transfer_state = 102
			transfer_state = 109
			transfer_state = 104
			transfer_state = 804
			transfer_state = 45
			transfer_state = 764
			transfer_state = 1000
			transfer_state = 1002
			transfer_state = 105
			transfer_state = 853
			transfer_state = 103
			transfer_state = 981
			transfer_state = 983
		}
		transfer_state = 107
		transfer_state = 108
		transfer_state = 802
		transfer_state = 803
		transfer_state = 999
		transfer_state = 106
		leave_faction = yes
	}
	736 = {
		set_demilitarized_zone = yes
	}	
	DEN = {
		end_puppet = GER 
		set_cosmetic_tag = DEN
	}
	if = {
		limit = {
			ITA = {
				has_civil_war = yes
			}
		}
		every_country = {
			limit = {
				original_tag = ITA
				has_cosmetic_tag = ITA_rds
			}
			save_event_target_as = italia_real_ww2
			transfer_state = 160
			transfer_state = 1003
			transfer_state = 736
			transfer_state = 159	
			transfer_state = 158
			transfer_state = 161
			transfer_state = 162
			transfer_state = 157
			transfer_state = 2
			transfer_state = 849
			transfer_state = 117
			transfer_state = 156
			transfer_state = 115
			if = {
				limit = {
					HUN = {
						NOT = {
							OR = {
								has_cosmetic_tag = HUN_EMPIRE
								NOT = {
									is_in_faction_with = GER
								}
							}	
						}
					}
				}
				transfer_state = 39
				transfer_state = 850
			}
		}
	}	
	if = {
		limit = {
			ITA = {
				has_civil_war = no
			}
		}
		every_country = {
			limit = {
				original_tag = ITA
			}
			save_event_target_as = italia_real_ww2
			transfer_state = 39
			transfer_state = 850
			transfer_state = 160
			transfer_state = 1003
			transfer_state = 736
			transfer_state = 159	
			transfer_state = 158
			transfer_state = 161
			transfer_state = 162
			transfer_state = 157
			transfer_state = 2
			transfer_state = 849
			transfer_state = 117
			transfer_state = 156
			transfer_state = 115
			uncomplete_national_focus = {
				focus = ITA_servizio_informazione_militare
				uncomplete_children = yes
				refund_political_power = no
			}
			complete_national_focus = ITA_undermine_the_duce
			complete_national_focus = ITA_conspiracies_in_the_shadows
			complete_national_focus = ITA_convene_the_grand_council
			complete_national_focus = ITA_depose_mussolini
			mark_focus_tree_layout_dirty = yes
		}
	}	
	event_target:italia_real_ww2 = {
		set_politics = {
			ruling_party = democratic
			last_election = "1932.3.8"
			election_frequency = 60
			elections_allowed = yes
		}
		set_popularities = {
			democratic = 70 #liberalism
			fascism = 8 #nazism
			communism = 12 #marxism
			neutrality = 10 #despotism
		}
		set_cosmetic_tag = ITA_WW2
		remove_ideas = vittorio_emanuele
		remove_ideas = vittorio_emanuele_emperor_of_ethiopia
		remove_ideas = vittorio_emanuele_king_of_albania
		remove_ideas = vittorio_emanuele_albania_ethiopia
		add_ideas = ITA_umberto_ii_king
		#
		remove_ideas = ITA_camicie_nere
		remove_ideas = ITA_german_military_cooperation_focus
		remove_ideas = ITA_italian_irredentism_ns
		retire_character = ITA_benito_mussolini
		remove_country_leader_role = {
			character = ITA_vittorio_emanuele_iii
			ideology = despotism
		}
		add_country_leader_role = {
			character = ITA_prince_umberto
			ideology = despotism
		}
	}	
	DEN = {
		transfer_state = 37
		transfer_state = 99
		if = {
			limit = {
				912 = {
					is_core_of = DEN
				}
			}
			transfer_state = 912
		}
		set_capital = { state = 37 }
	}
	ROM = {
		transfer_state = 76
	}
	LUX = {
		transfer_state = 8
	}
	BEL = {
		transfer_state = 34
		transfer_state = 1001
		transfer_state = 6
		if = {
			limit = {
				980 = {
					is_core_of = BEL
				}
			}
			transfer_state = 980
		}
		set_cosmetic_tag = BEL
	}
	HOL = {
		transfer_state = 35
		transfer_state = 36
		transfer_state = 7
		transfer_state = 695
		set_cosmetic_tag = HOL
	}
	if = {
		limit = {
			HUN = {
				NOT = {
					OR = { NOT = { has_cosmetic_tag = HUN_EMPIRE } is_in_faction_with = GER }
				}
			}
		}
		ROM = {
			transfer_state = 76
		}
	}
	188 = {
		set_state_name = "klaipeda"
	}
    set_province_name = {
        id = 3288
        name = "klaipeda"
    }
	763 = {
		set_state_name = "kaliningrad"
	}
    set_province_name = {
        id = 6332
        name = "kaliningrad"
    }
	5 = {
		set_state_name = "warmiya_majuria"
	}
    set_province_name = {
        id = 6375
        name = "olshutyin"
    }
	67 = {
		set_state_name = "silonsk"
	}
    set_province_name = {
        id = 11467
        name = "glibice"
    }
    set_province_name = {
        id = 9511
        name = "opole"
    }
	66 = {
		set_state_name = "dolnisilonsk"
	}
    set_province_name = {
        id = 9570
        name = "brozwaff"
    }
	63 = {
		set_state_name = "pomoje"
	}
    set_province_name = {
        id = 11372
        name = "kozalin"
    }
    set_province_name = {
        id = 6282
        name = "schechin"
    }
	68 = {
		set_state_name = "lubusy"
	}
    set_province_name = {
        id = 3473
        name = "kostrzynnadodra"
    }
	85 = {
		set_state_name = "gdansk"
	}
    set_province_name = {
        id = 362
        name = "gdansk"
    }
	if = {
		limit = {
			GER = {
				owns_state = 671
				owns_state = 286
				owns_state = 741
				owns_state = 670
			}
		}
		FRA = {
			transfer_state = 671
			transfer_state = 286
			transfer_state = 741
			transfer_state = 670
			transfer_state = 993
			transfer_state = 994
			transfer_state = 995
		}
	}
    every_country = {
    	limit = {
    		has_war_with = GER
    	}
    	white_peace = GER
    }
    every_country = {
    	limit = {
    		has_war_with = ITA
    	}
    	white_peace = ITA
    }
    every_country = {
    	limit = {
    		is_in_faction_with = GER
    	}
    	leave_faction = yes
		white_peace = ENG
		white_peace = SOV
    }
	GER = {
		dismantle_faction = yes
	}	
	if = {
		limit = {
			984 = {
				is_core_of = AUS
			}
			HUN = {
				OR = { NOT = { has_cosmetic_tag = HUN_EMPIRE } is_in_faction_with = GER }
			}
		}
		#오스트리아 분할
		SOV = {
			transfer_state = 4
			transfer_state = 984
		}
		USA = {
			transfer_state = 152
		}
		ENG = {
			transfer_state = 986
		}
		FRA = {
			transfer_state = 153
			transfer_state = 848
		}
	}
    SOV = {
    	transfer_state = 146
    	transfer_state = 763
    	transfer_state = 188
    	transfer_state = 722
    	transfer_state = 975
    	transfer_state = 976
    	#독일
    	transfer_state = 64
    	transfer_state = 62
    	transfer_state = 61
    	transfer_state = 65
    	transfer_state = 60
		
		transfer_state = 784
		transfer_state = 96
		transfer_state = 95
		transfer_state = 94
		transfer_state = 93
		
		if = {
			limit = {
				HUN = {
					OR = { 
						NOT = { 
							has_cosmetic_tag = HUN_EMPIRE 
						} 
						is_in_faction_with = GER 
					}
					owns_state = 73
				}
				NOT = {
					CZE = {
						is_puppet_of = HUN
						owns_state = 73
					}
				}
			}
			transfer_state = 73
		}
		if = {
			limit = {
				HUN = {
					OR = { 
						NOT = { 
							has_cosmetic_tag = HUN_EMPIRE 
						} 
						is_in_faction_with = GER 
					}
				}
			}
			transfer_state = 80
			transfer_state = 91
			transfer_state = 89
		}
		transfer_state = 78
		transfer_state = 766
		
    	add_state_core = 146
    	add_state_core = 763
    	add_state_core = 188
    	add_state_core = 73
    	add_state_core = 722
    	#독일
		
		add_state_core = 784
		add_state_core = 96
		add_state_core = 95
		add_state_core = 94
		add_state_core = 93
		add_state_core = 91
		add_state_core = 89
		
		add_state_core = 80
		add_state_core = 78
		add_state_core = 766
		
		every_state = {
			limit = {
				OR = {
					is_core_of = LIT
					is_core_of = LAT
					is_core_of = EST
				}
			}
			add_core_of = SOV
		}
    	puppet = POL
    	puppet = ROM
    	puppet = ALB
    	puppet = BUL
		if = {
			limit = {
				HUN = {
					OR = { NOT = { has_cosmetic_tag = HUN_EMPIRE } is_in_faction_with = GER }	
				}
			}
			puppet = HUN
		}
		if = {
			limit = {
				is_historical_focus_on = yes
				EST = {
					is_ai = yes
				}
			}	
			annex_country = {
				target = EST
				transfer_troops = yes
			}	
		}
		if = {
			limit = {
				is_historical_focus_on = yes
				LIT = {
					is_ai = yes
				}
			}	
			annex_country = {
				target = LIT
				transfer_troops = yes
			}	
		}
		if = {
			limit = {
				is_historical_focus_on = yes
				LAT = {
					is_ai = yes
				}
			}	
			annex_country = {
				target = LAT
				transfer_troops = yes
			}	
		}
    }
}
TLE_soviet_defeat_effect = {
	set_global_flag = TLE_soviet_union_defeat
	add_named_threat = { threat = -1000 name = TLE_germany_union_defeat }
	every_country = {
		add_ideas = TLE_afterwar_idea
	}
    every_country = {
    	limit = {
    		has_war_with = SOV
    	}
    	white_peace = SOV
    }
	every_country = {
		limit = {
			has_war_with = FIN
		}
		white_peace = FIN
	}
	if = {
		limit = {
			ITA = {
				has_civil_war = yes
			}
		}
		every_country = {
			limit = {
				has_cosmetic_tag = ITA_rsi
			}
			save_event_target_as = italian_empire
		}	
		event_target:italian_empire = {
			set_cosmetic_tag = ITA_EMPIRE
			end_puppet = ITA
		}
	}
	if = {
		limit = {
			ITA = {
				has_civil_war = no
			}
		}
		ITA = {
			set_cosmetic_tag = ITA_EMPIRE
			end_puppet = ITA
		}	
	}
    GER = {
    	white_peace = SOV
		end_puppet = ITA
		country_event = {
			id = korea.178
		}
		if = {
			limit = {
				912 = {
					is_core_of = DEN
				}
			}
			transfer_state = 912
			add_state_core = 912
		}
		if = {
			limit = {
				980 = {
					is_core_of = BEL
				}
			}
			transfer_state = 980
			add_state_core = 980
		}
		transfer_state = 807
		transfer_state = 85
		transfer_state = 86
		transfer_state = 762
		add_state_core = 807
		add_state_core = 85
		add_state_core = 86
		add_state_core = 762
		#
		if = {
			limit = {
				975 = {
					is_core_of = POL
				}
			}
			transfer_state = 975
		}
		if = {
			limit = {
				976 = {
					is_core_of = POL
				}
			}
			transfer_state = 976
		}
		if = {
			limit = {
				978 = {
					is_core_of = POL
				}
			}
			transfer_state = 978
		}
		transfer_state = 98
		transfer_state = 87
		transfer_state = 72
		#
    	transfer_state = 91
    	transfer_state = 89
    	transfer_state = 93
    	transfer_state = 94
    	transfer_state = 95
    	transfer_state = 784
    	transfer_state = 96
    	transfer_state = 97
    	transfer_state = 814
    	transfer_state = 11
    	transfer_state = 815
    	transfer_state = 188
    	transfer_state = 190
    	transfer_state = 809
    	transfer_state = 810
    	transfer_state = 808
    	transfer_state = 12
    	transfer_state = 191
    	transfer_state = 13
    	transfer_state = 813
    	transfer_state = 812
    	transfer_state = 811
    	transfer_state = 201
    	transfer_state = 199
    	transfer_state = 202
    	transfer_state = 203
    	transfer_state = 197
    	transfer_state = 193
    	transfer_state = 225
    	transfer_state = 259
    	transfer_state = 226
    	transfer_state = 196
    	transfer_state = 200
    	transfer_state = 227
    	transfer_state = 228
    	transfer_state = 221
    	transfer_state = 137
    	transfer_state = 224
    	transfer_state = 194
    	transfer_state = 241
    	transfer_state = 204
    	transfer_state = 206
    	transfer_state = 207
    	transfer_state = 189
    	transfer_state = 208
    	transfer_state = 209
    	transfer_state = 210
    	transfer_state = 242
    	transfer_state = 243
    	transfer_state = 205
    	transfer_state = 223
    	transfer_state = 222
    	transfer_state = 220
    	transfer_state = 240
    	transfer_state = 260
    	transfer_state = 265
    	transfer_state = 245
    	transfer_state = 218
    	transfer_state = 237
    	transfer_state = 234
    	transfer_state = 235
    	transfer_state = 232
    	transfer_state = 233
    	transfer_state = 827
    	transfer_state = 828
    	transfer_state = 821
    	transfer_state = 826
    	transfer_state = 231
    	transfer_state = 229
    	transfer_state = 230
    	transfer_state = 238
    	transfer_state = 217
    	transfer_state = 236
    	transfer_state = 258
    	transfer_state = 257
    	transfer_state = 254
    	transfer_state = 219
    	transfer_state = 247
    	transfer_state = 246
    	transfer_state = 263
    	transfer_state = 244
    	transfer_state = 195
    	transfer_state = 264
    	transfer_state = 248
    	transfer_state = 253
    	transfer_state = 351
    	transfer_state = 879
    	transfer_state = 214
    	transfer_state = 880
    }
	ROM = {
    	transfer_state = 78
    	transfer_state = 766
    	transfer_state = 80
		
    	transfer_state = 834
    	transfer_state = 192
    	transfer_state = 198
	}
    SOV = {
    	set_capital = { state = 398 }
    	set_cosmetic_tag = SOV_perm_government
    	add_country_leader_role = {
    		Character = SOV_lavrenty_beriya
    		country_leader = {
    			expire = "1965.1.1"
    			ideology = stalinism
    			traits = { head_of_the_nkvd_beriya_initial }
    		}
    		promote_leader = yes
    	}
    }
    if = {
    	limit = {
    		FIN = {
    			exists = yes
    		}
    	}
    	FIN = {
    		transfer_state = 146
    		transfer_state = 147
    		transfer_state = 722
    		transfer_state = 213
    		transfer_state = 215
    		transfer_state = 216
    	}
    }
    if = {
    	limit = {
    		FIN = {
				OR = {
					exists = no
					is_puppet_of = SOV
				}
    		}
    	}
    	GER = {
    		release = FIN
    	}
    	FIN = {
    		transfer_state = 146
    		transfer_state = 147
    		transfer_state = 722
    		transfer_state = 213
    		transfer_state = 215
    		transfer_state = 216
			set_politics = {
				ruling_party = neutrality
				last_election = "1936.1.1"
				election_frequency = 48
				elections_allowed = yes
			}
			set_popularities = {
				neutrality = 56
				fascism = 45
				communism = 0
				democratic = 0
			}
    	}
    }
	SOV = {
		annex_country = {
			target = SOV
			transfer_troops = yes
		}
	}
}
GER_victory_at_ww2 = {
	set_global_flag = GB_Germany_victory_at_ww2
	set_global_flag = show_peace_popup_alert
	GER = {
		save_global_event_target_as = winning_country
	}
	ENG = {
		save_global_event_target_as = losing_country
	}
	if = {
		limit = {
			event_target:losing_country = {
				any_allied_country = {
					has_war_together_with = event_target:losing_country
				}
			}
		}
		set_global_flag = losing_country_multiple
	}

	if = {
		limit = {
			event_target:winning_country = {
				any_allied_country = {
					has_war_together_with = event_target:winning_country
				}
			}
		}
		set_global_flag = winning_country_multiple
	}
	every_country = {
		limit = {
			is_ai = no
		}	
		add_to_variable = { global.peace_popup_dirty = 1 }
	}
	log = "war_won"
	set_global_flag = war_won
	hidden_effect = {
        28 = {
			set_state_name = "Elsass_Lothringen"
		}
        set_province_name = {
            id = 9559
            name = "Metz_germany"
        }
        set_province_name = {
            id = 9503
            name = "Strassburg"
        }
        set_province_name = {
            id = 678
            name = "Mulhausen"
        }
		TUR = {
			transfer_state = 183
		}
		if = {
			limit = {
				NOT = {
					has_global_flag = PRE_THE_NEW_ORDER_GBR
				}
			}
			every_country = {
				limit = {
					has_cosmetic_tag = ITA_EMPIRE
				}
				save_event_target_as = italian_empire
			}
			every_country = {
				limit = {
					has_cosmetic_tag = ITA_rds
				}
				save_event_target_as = italian_looser
			}

			event_target:italian_empire = {
				leave_faction = yes
				create_faction = "TRAUMVIRATUS"
				transfer_state = 2
				transfer_state = 157
				transfer_state = 117
				transfer_state = 849
				transfer_state = 156
				transfer_state = 115
				transfer_state = 114
				transfer_state = 1
				transfer_state = 162
				transfer_state = 161
				transfer_state = 158
				transfer_state = 159
				transfer_state = 160
				transfer_state = 1003
				transfer_state = 850
				transfer_state = 39
				transfer_state = 736
				transfer_state = 852
				transfer_state = 103
				transfer_state = 853
				transfer_state = 735
				transfer_state = 452
				transfer_state = 447
				transfer_state = 907
				transfer_state = 552
				transfer_state = 456
				transfer_state = 457
				transfer_state = 454
				transfer_state = 453
				transfer_state = 455
				transfer_state = 269
				transfer_state = 268
				transfer_state = 908
				transfer_state = 458
				transfer_state = 665
				transfer_state = 1002
				transfer_state = 44
				transfer_state = 934
				transfer_state = 999
				transfer_state = 802
				transfer_state = 1000
				transfer_state = 805
				annex_country = {
					target = ETH
					transfer_troops = no
				}
				annex_country = {
					target = italian_looser
					transfer_troops = yes
				}
			}			
			if = {
				limit = {
					ITA = {
						NOT = {
							has_idea = vittorio_emanuele
							has_idea = vittorio_emanuele_emperor_of_ethiopia
							has_idea = vittorio_emanuele_king_of_albania
							has_idea = vittorio_emanuele_albania_ethiopia
						}
					}
				}
				ITA = {
					add_ideas = ITA_umberto_ii_king_facsism
				}
			}
			if = {
				limit = {
					KOR = {
						has_government = fascism
					}
					KVN = {
						exists = no
					}
				}
				KOR = {
					transfer_state = 671
					transfer_state = 670
					transfer_state = 741
					transfer_state = 286
					transfer_state = 993
					transfer_state = 994
					transfer_state = 995
				}
			}
			every_country = {
				limit = {
					has_war_with = GER
				}
				white_peace = GER
				white_peace = ROM
				white_peace = ITA
				white_peace = BUL
				white_peace = SPR
			}
			ENG = {
				transfer_state = 101
				
				transfer_state = 774
				transfer_state = 660
				transfer_state = 773
				transfer_state = 772
				transfer_state = 539
				
				transfer_state = 776
				transfer_state = 777
				transfer_state = 781
				transfer_state = 778
				transfer_state = 898
				transfer_state = 556
				transfer_state = 779
				transfer_state = 899
				transfer_state = 780
				transfer_state = 272
				
				transfer_state = 901
			}
			BUL = {
				leave_faction = yes
			}
			HUN = {
				leave_faction = yes
			}
			ROM = {
				leave_faction = yes
			}
			SER = {
				leave_faction = yes
			}
			every_country = {
				limit = {
					original_tag = FRA 
					NOT = {
						tag = FRA
					}
					has_government = fascism 
				}
				transfer_state = 806
				transfer_state = 19
				transfer_state = 23
				transfer_state = 30
				transfer_state = 14
				transfer_state = 24
				transfer_state = 27
				transfer_state = 16
				transfer_state = 15
				transfer_state = 461
				transfer_state = 462
				transfer_state = 459
				transfer_state = 513
				transfer_state = 514
				transfer_state = 782
				transfer_state = 786
				transfer_state = 515
				set_capital = { state = 16 }
			}
			GER = {
				transfer_state = 446
				annex_country = {
					target = POL
					transfer_troops = no
				}
				annex_country = {
					target = AUS
					transfer_troops = no
				}
				annex_country = {
					target = CZE
					transfer_troops = no
				}
				set_autonomy = {
					target = UK1
					autonomous_state = autonomy_reichskommissariat
				}
				set_autonomy = {
					target = OT1
					autonomous_state = autonomy_reichskommissariat
				}
				set_autonomy = {
					target = KA1
					autonomous_state = autonomy_reichskommissariat
				}
				set_autonomy = {
					target = NR1
					autonomous_state = autonomy_reichskommissariat
				}
				set_autonomy = {
					target = MK1
					autonomous_state = autonomy_reichskommissariat
				}
				puppet = SER
				add_state_core = 85
				add_state_core = 807
				add_state_core = 86
				add_state_core = 762
				add_state_core = 102
				add_state_core = 4
				add_state_core = 152
				add_state_core = 153
				add_state_core = 848
				add_state_core = 28
				add_state_core = 8
				
				transfer_state = 188
				transfer_state = 35
				transfer_state = 7
				transfer_state = 36
				transfer_state = 34
				transfer_state = 1001
				transfer_state = 6
				transfer_state = 37
				transfer_state = 99
				
				transfer_state = 8
				transfer_state = 28
				transfer_state = 29
				transfer_state = 785
				transfer_state = 18
				transfer_state = 17
				transfer_state = 764
				transfer_state = 102
			
				transfer_state = 845
				transfer_state = 3
				transfer_state = 151
			}
			NR1 = {
				set_cosmetic_tag = NOR_reichskommissariat
				transfer_state = 110
				transfer_state = 142
				transfer_state = 143
				transfer_state = 144
				transfer_state = 920
				transfer_state = 921
				transfer_state = 922
				transfer_state = 923
				transfer_state = 924
				transfer_state = 925
				
				add_state_core = 110
				add_state_core = 142
				add_state_core = 143
				add_state_core = 144
				add_state_core = 920
				add_state_core = 921
				add_state_core = 922
				add_state_core = 923
				add_state_core = 924
				add_state_core = 925
			}
			CRO = {
				transfer_state = 109
				transfer_state = 104
				transfer_state = 103
				transfer_state = 804
			}
			HUN = {
				transfer_state = 664
				transfer_state = 73
				transfer_state = 45
				if = {
					limit = {
						983 = {
							is_core_of = YUG
						}
					}
					transfer_state = 983
				}
			}
			SER = {
				transfer_state = 107
				transfer_state = 108
			}
			BUL = {
				transfer_state = 803
				transfer_state = 106
				transfer_state = 184
				transfer_state = 731
			}
			every_country = {
				limit = {
					original_tag = FRA
					has_government = fascism
				}
				transfer_state = 557
				transfer_state = 461
				transfer_state = 462
				transfer_state = 459
				transfer_state = 513
				transfer_state = 514
				transfer_state = 782
				transfer_state = 786
				transfer_state = 515
			}	
			event_target:italian_empire = {
				set_cosmetic_tag = ITA_EMPIRE
				transfer_state = 39
				transfer_state = 850
				transfer_state = 160
				transfer_state = 1003
				transfer_state = 159	
				transfer_state = 158
				transfer_state = 161
				transfer_state = 162
				transfer_state = 157
				transfer_state = 2
				transfer_state = 849
				transfer_state = 117
				transfer_state = 156
				transfer_state = 115
				puppet = MNT
				puppet = GRE
				transfer_state = 853
				transfer_state = 735
				transfer_state = 1
				
				transfer_state = 847
				transfer_state = 846
				transfer_state = 665
				transfer_state = 458
				annex_country = {
					target = ETH
					transfer_troops = yes
				}
				annex_country = {
					target = ALB
					transfer_troops = yes
				}
				annex_country = {
					target = event_target:italian_looser
					transfer_troops = yes
				}
			}
			MNT = {
				transfer_state = 105
				transfer_state = 981
			}
			15 = {
				set_demilitarized_zone = yes
			}
			16 = {
				set_demilitarized_zone = yes
			}
			27 = {
				set_demilitarized_zone = yes
			}
			20 = {
				set_demilitarized_zone = yes
			}
			32 = {
				set_demilitarized_zone = yes
			}
			21 = {
				set_demilitarized_zone = yes
			}
			851 = {
				set_demilitarized_zone = yes
			}
			CAN = {
				set_faction_name = "toronto_pact"
				add_to_faction = USA
			}
			USA = {
				set_faction_leader = yes
			}
		}
	}
}
TLE_german_empire_win = {
	every_country = {
		limit = {
			has_war_with = SOV
		}
		white_peace = SOV
	}
	GER = {
		annex_country = {
			target = SOV
			transfer_troops = yes
		}
		release = KAZ
		release = TMS
	}
	if = {
		limit = {
			EST = {
				exists = no
			}
		}
		every_state = {
			limit = {
				NOT = {
					is_core_of = GER
				}
				is_core_of = EST
				is_owned_by = GER
			}
			set_state_owner_to = EST
			set_state_controller_to = EST
			transfer_state_to = EST
		}
		GER = {
			puppet = EST
		}
	}
	if = {
		limit = {
			LIT = {
				exists = no
			}
		}
		every_state = {
			limit = {
				NOT = {
					is_core_of = GER
				}
				is_core_of = LIT
				is_owned_by = GER
			}
			set_state_owner_to = LIT
			set_state_controller_to = LIT
			transfer_state_to = LIT
		}
		LIT = {
			set_cosmetic_tag = LIT_KINGDOM
			add_ideas = { LIT_karl_gero_idea }
		}
		GER = {
			puppet = LIT
		}
	}
	if = {
		limit = {
			LAT = {
				exists = no
			}
		}
		every_state = {
			limit = {
				NOT = {
					is_core_of = GER
				}
				is_core_of = LAT
				is_owned_by = GER
			}
			set_state_owner_to = LAT
			set_state_controller_to = LAT
			transfer_state_to = LAT
		}
		GER = {
			puppet = LAT
		}
	}
	KAZ = {
		transfer_state = 585
		transfer_state = 823
		transfer_state = 831
	}
	TMS = {
		set_cosmetic_tag = TMS_TWR
		transfer_state = 830
		transfer_state = 742
		transfer_state = 732
		transfer_state = 405
	}
	if = {
		limit = {
			POL = {
				is_in_faction_with = GER
			}
		}
		POL = {
			transfer_state = 976
			transfer_state = 95
			transfer_state = 96
			transfer_state = 95
			transfer_state = 94
			transfer_state = 97
			#
			transfer_state = 207
			transfer_state = 206
			transfer_state = 204
			transfer_state = 194
			set_cosmetic_tag = POL_BEL_UNION
		}
	}
	if = {
		limit = {
			NOT = {
				POL = {
					is_in_faction_with = GER
				}
			}
		}
		GER = {
			puppet = BLR
		}
		BLR = {
			transfer_state = 976
			transfer_state = 95
			transfer_state = 96
			transfer_state = 95
			transfer_state = 94
			#
			transfer_state = 207
			transfer_state = 206
			transfer_state = 204
			transfer_state = 194
		}
	}
	if = {
		limit = {
			LIT = {
				is_in_faction_with = GER
			}
			POL = {
				NOT = {
					owns_state = 975
					owns_state = 784
				}
			}
		}
		LIT = {
			transfer_state = 975
			transfer_state = 784
		}
	}
	if = {
		limit = {
			NOT = {
				LIT = {
					is_in_faction_with = GER
				}
			}
			POL = {
				NOT = {
					owns_state = 975
					owns_state = 784
				}
			}
		}
		POL = {
			transfer_state = 975
			transfer_state = 784
			transfer_state = 97
		}
	}
	GER = {
		puppet = UKR
	}
	UKR = {
		transfer_state = 201
		transfer_state = 199
		transfer_state = 198
		transfer_state = 198
		transfer_state = 834
		transfer_state = 192
		transfer_state = 197
		transfer_state = 203
		transfer_state = 202
		transfer_state = 193
		transfer_state = 225
		transfer_state = 226
		transfer_state = 259
		transfer_state = 221
		transfer_state = 228
		transfer_state = 227
		transfer_state = 200
		transfer_state = 196
		transfer_state = 137
	}
	if = {
		limit = {
			NOT = {
				POL = {
					is_in_faction_with = GER
				}
				HUN = {
					is_in_faction_with = GER
					has_cosmetic_tag = HUN_EMPIRE
				}
			}
			POL = {
				NOT = {
					owns_state = 93
					owns_state = 91
					owns_state = 89
				}
			}
		}
		UKR = {
			transfer_state = 93
			transfer_state = 91
			transfer_state = 89
		}
	}
	if = {
		limit = {
			POL = {
				is_in_faction_with = GER
			}
			POL = {
				NOT = {
					owns_state = 93
					owns_state = 91
					owns_state = 89
				}
			}
			NOT = {
				HUN = {
					is_in_faction_with = GER
					has_cosmetic_tag = HUN_EMPIRE
				}
			}
		}
		POL = {
			transfer_state = 93
			transfer_state = 91
			transfer_state = 89
		}
	}
	if = {
		limit = {
			POL = {
				NOT = {
					owns_state = 93
					owns_state = 91
					owns_state = 89
				}
			}
			HUN = {
				is_in_faction_with = GER
				has_cosmetic_tag = HUN_EMPIRE
			}
		}
		UKR = {
			transfer_state = 93
		}	
		HUN = {
			transfer_state = 91
			transfer_state = 89
			add_state_core = 91
			add_state_core = 89
		}
	}
	ROM = {
		transfer_state = 78
		transfer_state = 766
		transfer_state = 80
	}
	every_country = {
		limit = {
			has_cosmetic_tag = HUN_EMPIRE
		}
		transfer_state = 80
	}	
	if = {
		limit = {
			ROM = {
				owns_state = 76
			}
			any_country = {
				has_cosmetic_tag = HUN_EMPIRE
			}
		}
		76 = {
			set_demilitarized_zone = yes
		}
		84 = {
			set_demilitarized_zone = yes
		}
		82 = {
			set_demilitarized_zone = yes
		}
		83 = {
			set_demilitarized_zone = yes
		}
	}
	if = {
		limit = {
			RUS = { 
				exists = no
			}
		}
		RUS = {
			add_ideas = RUS_vladimir_iii
			set_cosmetic_tag = russian_empire
		}
		every_state = {
			limit = {
				is_core_of = SOV
				is_owned_by = GER
			}
			add_core_of = RUS
			set_state_owner_to = RUS
			set_state_controller_to = RUS
			transfer_state_to = RUS
		}
		GER = {
			puppet = RUS
		}
	}
}
TLE_german_empire_lose = {
	if = {
		limit = {
			SOV = {
				exists = yes
			}
		}
		SOV = {
			transfer_state = 73
			transfer_state = 80
			transfer_state = 78
			transfer_state = 766
			transfer_state = 89
			transfer_state = 91
			transfer_state = 93
			transfer_state = 94
			transfer_state = 95
			transfer_state = 96
			transfer_state = 784
			transfer_state = 975
			transfer_state = 976
			transfer_state = 763
			transfer_state = 188
			annex_country = {
				target = LIT
				transfer_troops = yes
			}
			annex_country = {
				target = LAT
				transfer_troops = yes
			}
			annex_country = {
				target = EST
				transfer_troops = yes
			}
			transfer_state = 146
			transfer_state = 147
			transfer_state = 722
			puppet = POL
			puppet = HUN
			puppet = CZE
		}
	}
	every_country = {
		limit = {
			is_puppet_of = GER
		}
		end_puppet = GER
	}
	POL = {
		transfer_state = 5
		transfer_state = 67
		transfer_state = 66
		set_cosmetic_tag = POL_WW2
		transfer_state = 88
		transfer_state = 978
		transfer_state = 807
		transfer_state = 85
		transfer_state = 86
		transfer_state = 762
	}
	DEN = {
		transfer_state = 58
		transfer_state = 912
		transfer_state = 909
	}
	BEL = {
		set_cosmetic_tag = BEL
		transfer_state = 980
		transfer_state = 34
	}
	LUX = {
		transfer_state = 8
	}
	ITA = {
		transfer_state = 850
		transfer_state = 39
		transfer_state = 736
		transfer_state = 852
	}
	HUN = {
		set_cosmetic_tag = HUN_WW2
	}
	if = {
		limit = {
			AUS = {
				exists = no
			}
		}
		AUS = {
			transfer_state = 4
			transfer_state = 984
			transfer_state = 986
			transfer_state = 152
			transfer_state = 153
			transfer_state = 848
		}
	}
	YUG = {
		annex_country = {
			target = CRO
			transfer_troops = yes
		}
		annex_country = {
			target = SER
			transfer_troops = yes
		}
		annex_country = {
			target = MNT
			transfer_troops = yes
		}
		transfer_state = 45
		transfer_state = 983
		transfer_state = 102
		transfer_state = 109
		transfer_state = 104
		transfer_state = 804
		transfer_state = 853
		transfer_state = 1002
		transfer_state = 103
		transfer_state = 163
		transfer_state = 981
		transfer_state = 764
		if = {
			limit = {
				BUL = {
					owns_state = 106
					owns_state = 803
					owns_state = 999
				}
			}
			create_wargoal = {
				target = BUL
				type = annex_everything
			}
		}
		if = {
			limit = {
				ITA = {
					NOT = {
						owns_state = 852
					}
				}
			}
			transfer_state = 852
		}
	}
	CZE = {
		set_cosmetic_tag = CZE_WW2
		transfer_state = 75
		transfer_state = 9
		transfer_state = 74
		transfer_state = 69
		transfer_state = 72
		annex_country = {
			target = SLO
			transfer_troops = no
		}
		transfer_state = 70
		transfer_state = 71
		transfer_state = 664
	}
	FRA = {
		annex_country = {
			target = FRS
			transfer_troops = yes
		}
		transfer_state = 28
		transfer_state = 42
		transfer_state = 51
		transfer_state = 50
		transfer_state = 998
		transfer_state = 985
	}
	ROM = {
		transfer_state = 76
		transfer_state = 977
		transfer_state = 84
		transfer_state = 83
		transfer_state = 82
	}
	every_state = {
		limit = {
			is_owned_by = GER
			NOT = {
				is_core_of = GER
			}
		}
		set_state_owner_to = ZZZ
		set_state_controller_to = ZZZ
		transfer_state_to = ZZZ
	}
	every_country = {
		limit = {
			has_war_with = GER
		}
		white_peace = GER
	}
	every_state = {
		limit = {
			is_core_of = GER
			is_owned_by = WGR
		}
		add_core_of = WGR
	}
	every_state = {
		limit = {
			is_core_of = GER
		}
		remove_core_of = GER
	}
	WGR = {
		annex_country = {
			target = GER
			transfer_troops = no
		}
		transfer_state = 4
		transfer_state = 984
		transfer_state = 986
		transfer_state = 152
		transfer_state = 153
		transfer_state = 848
		
		add_state_core = 4
		add_state_core = 984
		add_state_core = 986
		add_state_core = 152
		add_state_core = 153
		add_state_core = 848
		set_cosmetic_tag = GER_FEDERATION
		add_state_core = 51
		add_state_core = 50
		add_state_core = 42
		add_state_core = 998
		change_tag_from = GER
	}
}